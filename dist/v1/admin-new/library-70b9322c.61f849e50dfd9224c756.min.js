"use strict";(self.webpackChunkvanillaadmin_new=self.webpackChunkvanillaadmin_new||[]).push([[7790],{88005(e,t,r){r.d(t,{O:()=>p});var a=r(67294),n=r(21485),i=r(31758),o=r(10855),s=r(77289);function l(e){let{tabs:t}=e,r=t.map(({label:e,componentName:t,componentProps:r})=>({label:e,contents:a.createElement(s.t,{applyContexts:!1,layout:[{$reactComponent:t,$reactProps:r}]})}));return a.createElement("div",null,a.createElement(o.ZP,{fullGutter:!0},a.createElement(n.m,Object.assign({includeVerticalPadding:!1,includeBorder:!1,largeTabs:!0,tabType:i.v.BROWSE,data:r,extendContainer:!0},e))))}var d=r(32812),c=r(99369),u=r(11590),m=r(84780),h=r(17152);function p(e){let{limit:t,tabConfiguration:r}=e,n={tabs:r.filter(({isHidden:e})=>!e).map(e=>({label:e.label,componentName:"DiscussionsWidget",componentProps:{apiParams:{limit:t}}}))},i=(0,h.O)();return a.createElement(d.$,null,a.createElement(s.I.Provider,{value:{componentFetcher:c.jJ,fallbackWidget:c.fy}},a.createElement(m.DU.Provider,{value:{headingBlockClass:i.headingBlock,widgetWithContainerClass:i.widgetWithContainer,widgetClass:(0,u.iv)({name:"13s142e-TabWidget-preview-widgetClass",styles:"margin:0;label:TabWidget-preview-widgetClass;"})}},a.createElement(d.f,null,a.createElement(l,Object.assign({},n))))))}},83323(e,t,r){r.d(t,{R:()=>O,Z:()=>x});var a=r(67294),n=r(43223),i=r(81612),o=r(75864),s=r(28236),l=r(85819),d=r(23410),c=r(75994),u=r(52239),m=r(59736),h=r(83386);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){p(e,t,r[t])})}return e}let f=(0,s.yI)(()=>{let e=(0,o.Cg)("textEditor"),t=e("themeToggleIcon",{top:12,right:26}),r=e("editorPadding",{padding:{top:15,left:25}});return{themeToggleIcon:t,editorPadding:r}}),v=(0,s.yI)(()=>{let e=f(),t=(0,o.Y7)("textEditor"),r=(0,c.OF)(),a=(a,n,i)=>t(g({transition:"backgroundColor 0.25s ease",display:"flex",flexDirection:"column",justifyContent:"stretch",height:n?"300px":(0,l.sI)(100),backgroundColor:"vs-dark"===a?d.w.colorOut("#1E1E1E"):d.w.colorOut(r.elementaryColors.white),position:"relative",paddingTop:(0,m.dd)(e.editorPadding.padding.top),paddingLeft:n||i?0:(0,m.dd)(e.editorPadding.padding.left)},{".decorationsOverviewRuler":{display:"none"},".monaco-editor .overflow-guard":{borderRadius:6},".monaco-editor":{borderRadius:6}},n?g({},h.W.border()):{})),n=t("themeToggleIcon",g({position:"absolute",zIndex:1,top:e.themeToggleIcon.top,right:e.themeToggleIcon.right,border:"none",padding:0,margin:0,background:"none"},(0,u.b$)("transform"))),i=e=>{var a,n;return t("colorChangeOverlay",(a=g({},h.W.absolute.fullSizeOfParent()),n=(n={backgroundColor:"vs-dark"===e?d.w.colorOut("#1E1E1E"):d.w.colorOut(r.elementaryColors.white)},n),Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r})(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}),a))};return{root:a,themeToggleIcon:n,colorChangeOverlay:i}}),b=v;var y=r(57298),P=r(11590);n.Fd.config({paths:{vs:(0,y.pZ)("/dist/v1/monaco-editor-30-1/min/vs")}});let C=a.createContext({theme:"vs-dark",setTheme(){}});function O(e){let[t,r]=(0,a.useState)("vs-light");return a.createElement(C.Provider,{value:{theme:t,setTheme:r}},e.children)}let w={lineNumbers:"on",minimap:{enabled:!1},scrollbar:{vertical:"hidden",verticalScrollbarSize:0},overviewRulerLanes:0,glyphMargin:!1,folding:!1,lineDecorationsWidth:12,lineNumbersMinChars:3},S={lineNumbers:"on",minimap:{enabled:!1},glyphMargin:!1,lineDecorationsWidth:12,overviewRulerLanes:0,lineNumbersMinChars:3},E={storageService:{get(){},remove(){},getBoolean:e=>!0,store(){},onWillSaveState(){},onDidChangeStorage(){}}};function x(e){var t,r,o;let{language:s,value:l,onChange:d}=e,{theme:c,setTheme:u}=(0,a.useContext)(C),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),f=b();r=null!==(t=e.jsonSchemaUri)&&void 0!==t?t:null,(0,a.useEffect)(()=>{if(!r)return;let e=new URL(r);e.searchParams.append("h",(0,y.xZ)("context.cacheBuster"));let t=e.toString();n.Fd.init().then(e=>{e.languages.json.jsonDefaults.setModeConfiguration({colors:!0,completionItems:!0,diagnostics:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0,documentSymbols:!0,foldingRanges:!0,hovers:!0,selectionRanges:!0,tokens:!0}),fetch(t).then(e=>e.json()).then(r=>{e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[{uri:t,fileMatch:["*"],schema:r}]})})})},[r]),o=e.typescriptDefinitions,(0,a.useEffect)(()=>{o&&n.Fd.init().then(e=>{e.languages.typescript.javascriptDefaults.addExtraLib(o)})},[o]);let v=(e,t)=>{g(!0)},O=m&&a.createElement("div",{className:f.colorChangeOverlay(c)}),x="vs-light"===c?a.createElement(i.N3,null):a.createElement(i.a3,null);return a.createElement("div",{onClick(e){e.stopPropagation()},className:(0,P.cx)(f.root(c,e.minimal,e.noPadding),e.className)},a.createElement("button",{type:"button",onClick:function(){u("vs-light"===c?"vs-dark":"vs-light"),h(!0),setTimeout(()=>{h(!1)},300)},className:f.themeToggleIcon,disabled:!p},x),a.createElement(n.jN,{theme:c,language:s,editorDidMount:v,options:e.minimal?w:S,value:l,onChange:d,overrideServices:E}),O)}},67190(e,t,r){r.d(t,{Z:()=>y});var a=r(85819),n=r(52239),i=r(23410),o=r(59736),s=r(28236),l=r(75994),d=r(10141),c=r(83386),u=r(75864);let m=(0,s.yI)(()=>{let e=(0,u.Cg)("previewCard"),t=e("colors",{fg:(0,a.$_)("#adb2bb"),white:(0,a.$_)("#ffffff"),imgColor:(0,a.$_)("#0291db"),btnTextColor:(0,a.$_)("#555a62"),overlayBg:(0,a.m4)(0,0,0,.4)}),r=e("container",{maxWidth:600,minWidth:220,ratioHeight:225,ratioWidth:310}),n=e("menuBar",{height:10,padding:{top:0,horizontal:10},dotSize:4}),o=e("actionDropdown",{state:{bg:i.w.offsetLightness(t.overlayBg,.04)}});return{colors:t,container:r,menuBar:n,actionDropdown:o}}),h=m;var p=r(11590);function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){g(e,t,r[t])})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}let b=(0,s.yI)(()=>{let e=h(),t=(0,l.OF)(),r=(0,p.iv)({background:i.w.colorOut(t.mainColors.bg),height:(0,o.dd)(e.menuBar.height),display:"flex",paddingTop:(0,o.dd)(e.menuBar.padding.top+2),paddingLeft:(0,o.dd)(e.menuBar.padding.horizontal-3),position:"relative",zIndex:1},";label:PreviewCard-styles-menuBar;"),s=(0,p.iv)({height:(0,o.dd)(e.menuBar.dotSize),width:(0,o.dd)(e.menuBar.dotSize),backgroundColor:"#bbb",borderRadius:(0,a.aQ)(50),marginRight:(0,o.dd)(3)},";label:PreviewCard-styles-menuBarDots;"),u=(0,p.iv)(v(f({textAlign:"center",margin:"44px 0",paddingTop:(0,o.dd)(e.menuBar.height)},(0,n.Mh)().middle()),{flexDirection:"column"}),";label:PreviewCard-styles-actionButtons;"),m=(0,p.iv)(f({marginBottom:(0,o.dd)(t.gutter.half)},{"&&":{minWidth:(0,a.px)(180)},"&:last-child":{marginBottom:0}}),";label:PreviewCard-styles-actionButton;"),g=(0,p.iv)(v(f(v(f({},c.W.absolute.fullSizeOfParent()),{opacity:0}),(0,n.Mh)().middle(),(0,n.b$)("opacity")),{zIndex:3}),";label:PreviewCard-styles-overlay;"),b=(0,p.iv)(v(f({},c.W.absolute.fullSizeOfParent()),{backgroundColor:i.w.colorOut(e.colors.overlayBg)}),";label:PreviewCard-styles-overlayBg;"),y=(0,p.iv)({height:(0,a.aQ)(100),display:"flex",flexDirection:"column"},";label:PreviewCard-styles-wrapper;"),P=(0,p.iv)(v(f({maxWidth:(0,o.dd)(e.container.maxWidth),minWidth:(0,o.dd)(e.container.minWidth),maxHeight:e.container.maxWidth*e.container.ratioHeight/e.container.ratioWidth},(0,d.kL)().embed()),{borderRadius:(0,o.dd)(2)}),";label:PreviewCard-styles-constraintContainer;"),C=(0,p.iv)({name:"16w4tig-PreviewCard-styles-constraintContainerActive",styles:"border:2px solid #0291db;label:PreviewCard-styles-constraintContainerActive;"}),O=(0,p.iv)({position:"relative",width:"auto",paddingTop:(0,a.aQ)(e.container.ratioHeight/e.container.ratioWidth*100)},";label:PreviewCard-styles-ratioContainer;"),w=(0,p.iv)(v(f({},c.W.absolute.fullSizeOfParent()),{backgroundColor:"rgba(103, 105, 109, 0.2)",opacity:1,zIndex:2}),";label:PreviewCard-styles-activeOverlay;"),S=(0,p.iv)({name:"1u2wfa1-PreviewCard-styles-flagSizeAndPosition",styles:"font-size:11px;position:absolute;top:11%;left:0;label:PreviewCard-styles-flagSizeAndPosition;"}),E=(0,p.iv)(f({},c.W.absolute.fullSizeOfParent(),{":hover, :focus":{[`.${g}`]:{opacity:1}}}),";label:PreviewCard-styles-container;"),x=(0,p.iv)(v(f({},c.W.absolute.fullSizeOfParent()),{overflow:"hidden"}),";label:PreviewCard-styles-previewContainer;"),D=(0,p.iv)(v(f({},c.W.absolute.fullSizeOfParent()),{top:(0,o.dd)(e.menuBar.height)}),";label:PreviewCard-styles-svg;"),T=(0,p.iv)(f({},{[`.${g}`]:{opacity:1}}),";label:PreviewCard-styles-isFocused;"),R=(0,p.iv)(v(f({objectPosition:"center top",objectFit:"cover"},c.W.absolute.fullSizeOfParent()),{top:(0,o.dd)(e.menuBar.height)}),";label:PreviewCard-styles-previewImage;"),I=(0,p.iv)(f({position:"absolute",top:(0,o.dd)(e.menuBar.height),right:(0,o.dd)(e.menuBar.height),color:i.w.colorOut(t.elementaryColors.white)},{"&.focus-visible":{borderRadius:"2px",backgroundColor:i.w.colorOut(e.actionDropdown.state.bg)},"&:focus":{borderRadius:"2px",backgroundColor:i.w.colorOut(e.actionDropdown.state.bg)},"&:hover":{borderRadius:"2px",backgroundColor:i.w.colorOut(e.actionDropdown.state.bg)}}),";label:PreviewCard-styles-actionDropdown;"),j=(0,p.iv)({color:`${i.w.colorOut(t.elementaryColors.white)} !important`},";label:PreviewCard-styles-actionDropdownButton;"),A=(0,p.iv)({name:"15fjun2-PreviewCard-styles-itemLabel",styles:"display:block;flex-grow:1;label:PreviewCard-styles-itemLabel;"}),B=(0,p.iv)({name:"1cmqnb8-PreviewCard-styles-toolTipBox",styles:"width:20px;height:20px;label:PreviewCard-styles-toolTipBox;"}),N=(0,p.iv)(f({textDecoration:"none",paddingBottom:(0,o.dd)(4),paddingLeft:(0,o.dd)(14),paddingRight:(0,o.dd)(14),paddingTop:(0,o.dd)(4),textAlign:"left",color:e.colors.btnTextColor.toString()},{"&:hover":{backgroundColor:i.w.colorOut(t.states.hover.highlight)},"&:focus":{backgroundColor:i.w.colorOut(t.states.hover.highlight)},"&:active":{backgroundColor:i.w.colorOut(t.states.active.highlight)}}),";label:PreviewCard-styles-actionLink;"),W=(0,p.iv)(f({},{"&&:hover, &&:focus, &&active":{textDecoration:"none"}}),";label:PreviewCard-styles-action;"),k=(0,p.iv)(f({"&&":f({marginTop:12,marginBottom:0},c.W.font(v(f({},t.fontSizeAndWeightVars("medium","semiBold")),{lineHeight:20/14})))},(0,n.Mh)().middleLeft()),";label:PreviewCard-styles-title;"),Z=(0,p.iv)({marginLeft:t.gutter.half},";label:PreviewCard-styles-titleIcon;");return{svg:D,menuBar:r,menuBarDots:s,ratioContainer:O,previewContainer:x,container:E,activeOverlay:w,flagSizeAndPosition:S,constraintContainer:P,constraintContainerActive:C,actionButtons:u,actionButton:m,previewImage:R,wrapper:y,overlay:g,overlayBg:b,isFocused:T,actionDropdown:I,actionDropdownButton:j,itemLabel:A,toolTipBox:B,actionLink:N,action:W,title:k,titleIcon:Z}}),y=b},82659(e,t,r){r.d(t,{Z:()=>O});var a=r(67294),n=r(67190),i=r(39607);r(88791),r(23784),r(30731),r(89472);var o=r(11590),s=r(59736),l=r(75864),d=r(28236),c=r(75994),u=r(85819),m=r(83386),h=r(23410);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){p(e,t,r[t])})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}let v=(0,d.yI)(()=>{let e=(0,l.Cg)("currentThemeInfo"),t=(0,c.OF)(),r=e("colors",{fg:t.messageColors.warning.fg,white:(0,u.$_)("#ffffff"),btnTextColor:(0,u.$_)("#555a62")}),a=e("flag",{padding:{left:2,right:12},margin:{bottom:15}}),n=e("name",{padding:{bottom:7}}),i=e("name",{padding:{bottom:18}}),o=e("themeContainer",{margin:{top:18,right:28,bottom:0,left:26}});return{flag:a,name:n,authorName:i,themeContainer:o,colors:r}}),b=(0,d.yI)(()=>{let e=v(),t=(0,c.OF)(),r=(0,o.iv)(g({display:"flex",flexWrap:"wrap",backgroundColor:"#f6f9fb"},m.W.padding({horizontal:t.gutter.size,vertical:t.gutter.size+t.gutter.half})),";label:currentThemeStyles-root;"),a=(0,o.iv)({maxWidth:(0,u.aQ)(100),width:(0,s.dd)(400)},";label:currentThemeStyles-cardContainer;"),n=(0,o.iv)(f(g({display:"flex",flex:1},m.W.margin({top:(0,s.dd)(e.themeContainer.margin.top),bottom:(0,s.dd)(e.themeContainer.margin.bottom),left:(0,s.dd)(e.themeContainer.margin.left),right:(0,s.dd)(e.themeContainer.margin.right)})),{maxWidth:(0,u.aQ)(100),position:"relative",flexWrap:"wrap"}),";label:currentThemeStyles-themeContainer;"),i=(0,o.iv)({display:"inline-block",paddingLeft:(0,s.dd)(e.flag.padding.left),paddingRight:(0,s.dd)(e.flag.padding.right),lineHeight:(0,s.dd)(0),fontSize:(0,s.dd)(9),color:t.elementaryColors.white.toString(),borderStyle:"solid",borderColor:"#f5296d",borderRightColor:"transparent",borderWidth:(0,s.dd)(9),textTransform:"uppercase",marginBottom:(0,s.dd)(e.flag.margin.bottom-2)},";label:currentThemeStyles-flag;"),l=(0,o.iv)(g(f(g({},m.W.font(f(g({},t.fontSizeAndWeightVars("large")),{color:t.mainColors.fg.toString()}))),{marginBottom:(0,s.dd)(e.flag.margin.bottom-6)}),{"& h5":{fontWeight:t.fonts.weights.semiBold}}),";label:currentThemeStyles-name;"),d=(0,o.iv)(g(f(g({},m.W.font(f(g({},t.fontSizeAndWeightVars("small","normal")),{color:h.w.colorOut(t.mainColors.primary)}))),{paddingBottom:(0,s.dd)(e.authorName.padding.bottom)}),{"& span":{color:t.mainColors.fg.toString()}}),";label:currentThemeStyles-authorName;"),p=(0,o.iv)(g({},m.W.font(f(g({},t.fontSizeAndWeightVars("medium","normal")),{color:t.mainColors.fg.toString(),lineHeight:(0,s.dd)(20)}))),";label:currentThemeStyles-description;"),b=(0,o.iv)({flexDirection:"column",display:"flex",flex:0,marginTop:(0,s.dd)(e.themeContainer.margin.top+10)},";label:currentThemeStyles-themeActionButtons;"),y=(0,o.iv)(g({},{"&&":{marginBottom:(0,s.dd)(e.flag.margin.bottom),width:(0,s.dd)(180)}}),";label:currentThemeStyles-themeActionButton;"),P=(0,o.iv)({flex:1,width:(0,u.aQ)(100),minWidth:(0,u.px)(220),marginRight:(0,s.dd)(e.themeContainer.margin.right+20)},";label:currentThemeStyles-themeInfo;");return{root:r,cardContainer:a,themeContainer:n,flag:i,name:l,authorName:d,description:p,themeActionButtons:b,themeActionButton:y,themeInfo:P}});r(26458);var y=r(52303);function P(e){var t;let r=b();return a.createElement("div",{className:(0,o.cx)(r.flag,e.className)},null!==(t=e.children)&&void 0!==t?t:(0,y.t)("Current"))}r(81612),r(21663);let C=a.forwardRef(function(e,t){let[r,s]=(0,a.useState)(!1);(0,i.LJ)(t,s);let l=(0,n.Z)(),{dropdownContent:d,actionButtons:c}=e;return a.createElement("div",{className:(0,o.cx)(l.constraintContainer,e.active&&l.constraintContainerActive,(0,o.iv)({backgroundColor:e.background},";label:PreviewCard-className;"))},a.createElement("div",{className:l.ratioContainer},a.createElement("div",{ref:t,className:(0,o.cx)(r&&l.isFocused,l.container),tabIndex:0,title:e.name},a.createElement("div",{className:l.previewContainer},a.createElement("div",{className:l.menuBar},[0,1,2].map(e=>a.createElement("span",{key:e,className:l.menuBarDots}))),e.previewImage),!!e.active&&a.createElement("div",{className:l.activeOverlay},a.createElement(P,{className:l.flagSizeAndPosition})),(!!d||!!c)&&a.createElement("div",{className:(0,o.cx)(l.overlay)},a.createElement("div",{className:l.overlayBg}),!!d&&a.createElement("div",{className:l.actionDropdown},d),!!c&&a.createElement("div",{className:l.actionButtons},c)))))}),O=C},24027(e,t,r){r.d(t,{N5:()=>n,ZP:()=>m,ib:()=>h});var a,n,i=r(75741),o=r(99308),s=r(28236),l=r(57298);function d(e,t,r,a,n,i,o){try{var s=e[i](o),l=s.value}catch(d){r(d);return}s.done?t(l):Promise.resolve(l).then(a,n)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var i=e.apply(t,r);function o(e){d(i,a,n,o,s,"next",e)}function s(e){d(i,a,n,o,s,"throw",e)}o(void 0)})}}let u=(0,o.Jy)("@@themes");(a=n||(n={})).PREVIEW="preview",a.APPLY="apply",a.CANCEL="cancel";let m=class e extends i.ZP{getThemeRevisions(t){var r=this;let a=(0,i.KP)(e.getThemeRevisions_ACs,c(function*(){let e=yield r.api.get(`/themes/${t}/revisions`);return e.data}))({themeID:t});return this.dispatch(a)}patchTheme(t){let{themeID:r}=t,a=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(t,["themeID"]);var n=this;let o=(0,i.KP)(e.patchTheme_ACs,c(function*(){let e=yield n.api.patch(`/themes/${t.themeID}`,a);return e.data}))(t);return this.dispatch(o)}constructor(...t){super(...t),this.getAssets=(t,r=null)=>{let{theme:a}=this.getState();if(a.assets.data)return a.assets.data;var n=this;let o=(0,i.KP)(e.getAssets,c(function*(){let e=yield n.api.get(`/themes/${t}`,{params:{revisionID:r}});return e.data}))({themeKey:t,revisionID:r});return this.dispatch(o)},this.forceVariables=t=>{this.dispatch(e.forceVariablesAC(t)),(0,s.fR)()},this.getAllThemes=()=>{var t=this;let r=(0,i.KP)(e.getAllThemes_ACS,c(function*(){let e=yield t.api.get("/themes");return e.data}))();return this.dispatch(r)},this.putCurrentTheme=t=>{let r={themeID:t};var a=this;let n=(0,i.KP)(e.putCurrentThemeACs,c(function*(){let e=yield a.api.put("/themes/current",r);return(0,l.US)("ui.themeKey",t),(0,l.US)("ui.mobileThemeKey",t),e.data}))(r);return this.dispatch(n)},this.putPreviewTheme=t=>{let{themeID:r,revisionID:a,type:n}=t;var o=this;let s=(0,i.KP)(e.putPreviewThemeACs,c(function*(){let e=yield o.api.put("/themes/preview",{themeID:r,revisionID:a});return e.data}))(t);return this.dispatch(s)},this.deleteTheme=t=>{var r=this;let a=(0,i.KP)(e.deleteThemeACs,c(function*(){let e=yield r.api.delete(`/themes/${t}`);return e.data}))({themeID:t});return this.dispatch(a)};var r,a=this;this.patchThemeWithRevisionID=(r=c(function*(e){return yield a.patchTheme({themeID:e.themeID,revisionID:e.revisionID})}),function(e){return r.apply(this,arguments)})}};function h(){return(0,i.LO)(m)}m.getAssets=u.async("GET"),m.forceVariablesAC=u("FORCE_VARIABLES"),m.getAllThemes_ACS=u.async("GET_ALL_THEMES"),m.putCurrentThemeACs=u.async("PUT_CURRENT"),m.putPreviewThemeACs=u.async("PUT_PREVIEW"),m.deleteThemeACs=u.async("DELETE"),m.getThemeRevisions_ACs=u.async("GET_THEME"),m.patchTheme_ACs=u.async("PATCH_THEME")},32407(e,t,r){r.d(t,{f:()=>x});var a=r(47178),n=r(67147),i=r(95684),o=r(37703),s=r(75741),l=r(24027),d=r(67294),c=r(46458),u=r(7837),m=r(75933),h=r.n(m),p=r(57298),g=r(75994),f=r(28236);let v={google:{families:["Open Sans:400,400italic,600,700"]}},b=!1;document.addEventListener(f.ov,()=>{b=!1});let y=(e,t)=>{let r=(0,g.OF)(),{name:a=g.em,weightNormal:n=r.fonts.weights.normal,weightSemiBold:i=r.fonts.weights.semiBold,weightBold:o=r.fonts.weights.bold}=e;return`${t?"https://fonts.googleapis.com/css?family=":""}${encodeURI(a)}:${n},${n}italic,${i},${o}`},P=e=>e&&e.url&&""!==e.url&&e.name&&""!==e.name,C=(e,t)=>{let r=e.filter(e=>P(e)),a={custom:{families:r.map(e=>e.name),urls:r.map(e=>(0,p.pZ)(`${e.url}?v=${(0,p.xZ)("context.cacheBuster")}`))}};return a};var O=r(68590),w=r(73727),S=r(97960);r(10923);let E=!1,x=e=>{let{themeKey:t,disabled:r,variablesOnly:m,revisionID:x}=e,{getAssets:D}=(0,s.LO)(l.ZP),{assets:T}=(0,c.v9)(e=>e.theme),{setTopOffset:R}=(0,i.bO)(),{cacheID:I}=(0,f.lQ)(),[j,A]=(0,d.useState)({});return((0,d.useEffect)(()=>{A(t)},[t,A]),(0,d.useEffect)(()=>{if(!r){if(T.status!==a.Px.PENDING&&T.data&&!E){E=!0,(0,S.X)();let e=document.getElementById("themeHeader");if(e&&R(e.getBoundingClientRect().height),function(){if(b)return;b=!0;let e=(0,u.ZP)().getState(),t=e.theme.assets.data||{},{fonts:r={data:[]}}=t,a=(0,g.OF)(),n=a.fonts,i=n.forceGoogleFont,o=n.customFont,s=a.fonts.families[0],l=n.googleFontFamily||s;if(a.fonts.customFontUrl){let[d,...c]=a.fonts.families.body;h().load(C([{name:d,url:a.fonts.customFontUrl,fallbacks:c}]))}else if(!i&&P(o)){let m=[o,...[...o.fallbacks,g.em].map(e=>({name:e,url:e===g.em?y({name:s},!0):""}))].filter(e=>e&&o.name&&""!==o.name),f={families:m.map(e=>e.name),urls:m.map(e=>(0,p.pZ)(`${e.url}?v=${(0,p.xZ)("context.cacheBuster")}`))};h().load({custom:f})}else if(i){let O={google:{families:[`${y({name:l})}&display=swap`]}};h().load(O)}else if(r&&r.data&&r.data.length>0){let w=C(r.data);w.custom&&w.custom.urls&&w.custom.urls.length>0&&h().load(w)}else h().load(v)}(),m)return}}},[T,r,R,m,D,t,I]),e.disabled||e.variablesOnly)?d.createElement(d.Fragment,null,e.children):[a.Px.PENDING,a.Px.LOADING].includes(T.status)?d.createElement(d.Fragment,null,d.createElement(O.Sj,null),!m&&d.createElement(o.Z,null)):T.status===a.Px.ERROR?d.createElement(d.Fragment,null,d.createElement(O.Sj,null),e.errorComponent):T.data?((0,n.N6)().applyInputCSSRules(),d.createElement(d.Fragment,null,d.createElement(w.VK,null,d.createElement(O.dv,null,d.createElement(O.Sj,null),e.children)))):null}},30888(e,t,r){r.d(t,{x:()=>i});var a=r(7837),n=r(45607);function i(){let e=(0,a.ZP)().getState();if(null===e)return{};{if(e.theme.forcedVariables)return e.theme.forcedVariables;if(!(0,n.ir)())return{};let t=e.theme.assets.data||{},r=t.variables?t.variables.data:{};return r}}},97960(e,t,r){r.d(t,{X:()=>n});var a=r(66309);function n(){performance.mark("Theme ShadowDOM - Start");let e=document.getElementById("themeHeader"),t=document.getElementById("themeFooter");e&&!e.shadowRoot&&(0,a.UD)(e,!0),t&&!t.shadowRoot&&(0,a.UD)(t,!0),performance.mark("Theme ShadowDOM - End")}},89422(e,t,r){r.d(t,{f8:()=>a,xK:()=>c});var a,n,i=r(76983),o=r(24027),s=r(47178),l=r(87219);r(46458),(n=a||(a={})).DB="themeDB",n.FS="themeFile";let d={assets:{status:s.Px.PENDING},forcedVariables:null,themeRevisions:{status:s.Px.PENDING},upDateRevision:{status:s.Px.PENDING}},c=(0,l.ZP)((0,i.reducerWithInitialState)(d).case(o.ZP.getAssets.started,e=>(e.assets.status=s.Px.LOADING,e)).case(o.ZP.getAssets.done,(e,t)=>(e.assets.status=s.Px.SUCCESS,e.assets.data=t.result.assets,e)).case(o.ZP.getAssets.failed,(e,t)=>t.error.response&&404===t.error.response.status?(e.assets.data={},e.assets.status=s.Px.SUCCESS,e):(e.assets.status=s.Px.ERROR,e.assets.error=t.error,e)).case(o.ZP.forceVariablesAC,(e,t)=>(e.forcedVariables=t,e)).case(o.ZP.getThemeRevisions_ACs.started,(e,t)=>(e.themeRevisions.status=s.Px.LOADING,e)).case(o.ZP.getThemeRevisions_ACs.failed,(e,t)=>(e.themeRevisions&&(e.themeRevisions.status=s.Px.ERROR,e.themeRevisions.error=t.error),e)).case(o.ZP.getThemeRevisions_ACs.done,(e,t)=>(e.themeRevisions&&(e.themeRevisions.status=s.Px.SUCCESS,e.themeRevisions.data=t.result),e)).case(o.ZP.patchTheme_ACs.started,(e,t)=>(e.upDateRevision.status=s.Px.LOADING,e)).case(o.ZP.patchTheme_ACs.failed,(e,t)=>(e.upDateRevision.status=s.Px.ERROR,e.upDateRevision.error=t.error,e)).case(o.ZP.patchTheme_ACs.done,(e,t)=>{e.upDateRevision.status=s.Px.SUCCESS,e.upDateRevision.data=t.result;let{revisionID:r,themeID:a}=t.result;return e.themeRevisions.data&&(e.themeRevisions.data=e.themeRevisions.data.map(e=>(e.themeID!==a||(e.active=e.revisionID===r),e))),e}))},33341(e,t,r){r.d(t,{x:()=>m});var a=r(47178),n=r(87219),i=r(76983),o=r(24027);r(46458);var s=r(89422);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){l(e,t,r[t])})}return e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}let u={themes:{status:a.Px.PENDING},applyStatus:{status:a.Px.PENDING},previewStatus:{status:a.Px.PENDING},deleteThemeByID:{}},m=(0,n.Uy)((0,i.reducerWithInitialState)(u).case(o.ZP.getAllThemes_ACS.started,(e,t)=>(e.themes.status=a.Px.LOADING,e)).case(o.ZP.getAllThemes_ACS.done,(e,t)=>{let r,n=[],i=[];for(let o of t.result)o.current&&(r=o),o.type===s.f8.FS?n.push(o):i.push(o);return e.themes.status=a.Px.SUCCESS,e.themes.data={currentTheme:r,templates:n,themes:i},e}).case(o.ZP.getAllThemes_ACS.failed,(e,t)=>(e.themes.status=a.Px.ERROR,e.themes.error=t.error,e)).case(o.ZP.putCurrentThemeACs.started,(e,t)=>(e.applyStatus.status=a.Px.LOADING,e.applyStatus.data={themeID:t.themeID},e)).case(o.ZP.putCurrentThemeACs.done,(e,t)=>(e.applyStatus.status=a.Px.SUCCESS,e.applyStatus.error=void 0,e.themes.data&&(e.themes.data.currentTheme=t.result,e.themes.data.themes=e.themes.data.themes.map(e=>c(d({},e),{current:e.themeID===t.result.themeID})),e.themes.data.templates=e.themes.data.templates.map(e=>c(d({},e),{current:e.themeID===t.result.themeID}))),e)).case(o.ZP.putCurrentThemeACs.failed,(e,t)=>(e.applyStatus.status=a.Px.ERROR,e.applyStatus.error=t.error,e)).case(o.ZP.putPreviewThemeACs.started,(e,t)=>(e.previewStatus.status=a.Px.LOADING,e.previewStatus.data={themeID:t.themeID},e)).case(o.ZP.putPreviewThemeACs.done,(e,t)=>(e.previewStatus.status=a.Px.SUCCESS,e.previewStatus.error=void 0,e)).case(o.ZP.putPreviewThemeACs.failed,(e,t)=>(e.applyStatus.status=a.Px.ERROR,e.applyStatus.error=t.error,e)).case(o.ZP.deleteThemeACs.started,(e,t)=>(e.deleteThemeByID[t.themeID]={status:a.Px.LOADING},e)).case(o.ZP.deleteThemeACs.done,(e,t)=>{if(e.deleteThemeByID[t.params.themeID]={status:a.Px.SUCCESS},e.themes.data){var r;e.themes.data.themes=null===(r=e.themes.data)||void 0===r?void 0:r.themes.filter(e=>e.themeID!==t.params.themeID)}return e}).case(o.ZP.deleteThemeACs.failed,(e,t)=>(e.deleteThemeByID[t.params.themeID]={status:a.Px.ERROR,error:t.error},e)))}}]);