"use strict";(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[3410,5122],{75450(e,t,a){a.d(t,{Z:()=>d});var n=a(75741),o=a(99308),s=a(47178),i=a(23279),r=a.n(i);function l(e,t,a,n,o,s,i){try{var r=e[s](i),l=r.value}catch(u){a(u);return}r.done?t(l):Promise.resolve(l).then(n,o)}let u=(0,o.ZP)("@@categorySuggestions"),d=class e extends n.ZP{constructor(...t){super(...t),this.internalLoadCategories=(t,a)=>{let{suggestionsByQuery:o}=this.getState().forum.categories,i=null!==(r=o[t])&&void 0!==r?r:{status:s.Px.PENDING};if(i.status===s.Px.LOADING||i.status===s.Px.SUCCESS)return;var r,u,d=this;let c=(0,n.KP)(e.loadCategories,(u=function*(){let e=yield d.api.get("/categories/search",{params:{query:t,parentCategoryID:a,expand:["breadcrumbs"]}});return e.data},function(){var e=this,t=arguments;return new Promise(function(a,n){var o=u.apply(e,t);function s(e){l(o,a,n,s,i,"next",e)}function i(e){l(o,a,n,s,i,"throw",e)}s(void 0)})}))({query:t});return this.dispatch(c)},this.loadCategories=r()(this.internalLoadCategories,100)}};d.loadCategories=u.async("GET")},78816(e,t,a){var n,o;a.d(t,{kT:()=>s,mf:()=>n}),(o=n||(n={})).CATEGORIES="categories",o.DEFAULT="default",o.DISCUSSIONS="discussions",o.FLAT="flat",o.HEADING="heading";let s={useEmailNotifications:!1,postNotifications:null}},83643(e,t,a){a.d(t,{ZP:()=>c});var n=a(57298),o=a(75450),s=a(67294),i=a(46458),r=a(47178),l=a(89163),u=a(75741),d=a(73819);let c=function(e){var t,a,c;let[g,h]=(0,s.useState)(""),[v,m]=(0,s.useState)(!1),f=function(e,t,a){let n=(0,u.LO)(o.Z),l=(0,i.v9)(t=>{var a;return null!==(a=t.forum.categories.suggestionsByQuery[e])&&void 0!==a?a:{status:r.Px.PENDING}});return(0,s.useEffect)(()=>{(e||a)&&n.loadCategories(e,t)},[e,t,a]),l}(g,e.parentCategoryID,v),C=()=>{m(!0)},{multiple:p}=e,S;if(f.status===r.Px.SUCCESS&&f.data){let y=f.data;e.displayAs&&(y=y.filter(t=>t.displayAs===e.displayAs)),S=y.map(e=>{var t,a,n,o;let s,i=null!==(a=null===(t=e.breadcrumbs)||void 0===t?void 0:t.length)&&void 0!==a?a:0;return i>1&&(s=null===(n=e.breadcrumbs)||void 0===n?void 0:null===(o=n[i-2])||void 0===o?void 0:o.name),{value:e.categoryID,label:e.name,data:{parentLabel:s}}})}let b=f.status===r.Px.LOADING;return p?s.createElement(d.n,Object.assign({onFocus:C},e,{placeholder:(0,n.t)("Search..."),isLoading:b,onInputChange:h,label:null!==(t=e.label)&&void 0!==t?t:(0,n.t)("Community Category"),showIndicator:!0,options:S,maxHeight:e.maxHeight})):s.createElement(l.Z,Object.assign({onFocus:C},e,{placeholder:(0,n.t)("Search..."),onInputChange:h,isLoading:b,onChange(t){e.onChange&&e.onChange([t])},options:S,label:null!==(a=e.label)&&void 0!==a?a:(0,n.t)("Community Category"),value:(null!==(c=e.value)&&void 0!==c?c:[])[0],maxHeight:e.maxHeight}))}}}]);