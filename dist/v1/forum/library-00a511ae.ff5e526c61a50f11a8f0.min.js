"use strict";(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[9841],{63469(e,t,n){var r,l,o,i;n.d(t,{g:()=>l}),(o=r||(r={})).PARTICIPATING="participating",o.DELETED="deleted",(i=l||(l={})).ALL="all",i.INSERT_USER="insertUser",i.LAST_INSERT_USER="lastInsertUser"},47178(e,t,n){var r,l,o,i,a,c,s,u;n.d(t,{Px:()=>r,Vq:()=>o,u9:()=>l}),(a=r||(r={})).PENDING="PENDING",a.LOADING="LOADING",a.SUCCESS="SUCCESS",a.ERROR="ERROR",(c=l||(l={})).TEXT="text",c.VIEW="view",(s=o||(o={})).DELETED="deleted",s.UNDELETED="undeleted",s.PUBLISHED="published",(u=i||(i={})).TEXT="text",u.TEXTEX="textex",u.MARKDOWN="markdown",u.WYSIWYG="wysiwyg",u.HTML="html",u.BBCODE="bbcode",u.RICH="rich"},26458(e,t,n){n.d(t,{e:()=>S,l:()=>D});var r=n(94184),l=n.n(r),o=n(67294),i=n(62521),a=n(14921),c=n(75994),s=n(75864),u=n(28236),d=n(23410),m=n(52239),p=n(59736),f=n(83386),b=n(10141),g=n(85819),y=n(11590);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let E=(0,u.yI)(()=>{let e=(0,s.Cg)("toolTips");(0,c.OF)();let t=e("sizes",{min:150,max:250}),n=e("nub",{width:12});return{sizes:t,nub:n}}),w=(0,u.yI)(()=>{let e=(0,s.Y7)("toolTip"),t=(0,c.OF)(),n=E(),r=(0,b.kL)(),l=e("content",h({position:"relative",display:"inline-flex"},{"& *":{pointerEvents:"none"}})),o=e("noPointerTrigger",{pointerEvents:(0,g.ef)("initial"),position:"absolute",top:(0,g.aQ)(50),left:(0,g.aQ)(50),minWidth:(0,g.px)(45),minHeight:(0,g.px)(45),transform:"translate(-50%, -50%)",zIndex:1}),i=e("box",h(O(h({position:"absolute"},f.W.font(O(h({},t.fontSizeAndWeightVars("medium")),{lineHeight:t.lineHeights.base}))),{minWidth:(0,p.dd)(n.sizes.min),maxWidth:(0,p.dd)(n.sizes.max),backgroundColor:d.w.colorOut(t.mainColors.bg)}),f.W.border(),f.W.padding({all:t.fonts.size.medium}),r.dropDown())),a=(e=1)=>(0,y.iv)({zIndex:e},";label:toolTipStyles-boxStackingLevel;"),u=e("nubPosition",h({position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",width:(0,p.dd)(2*n.nub.width),height:(0,p.dd)(2*n.nub.width),transform:(0,g.YP)("-50%"),marginLeft:(0,p.dd)(n.nub.width),pointerEvents:"none"},(0,m.si)())),v=(e=1)=>(0,y.iv)({zIndex:e+1},";label:toolTipStyles-nubStackingLevel;"),w=e("nub",h({position:"relative",display:"block",width:(0,p.dd)(n.nub.width),height:(0,p.dd)(n.nub.width),borderTop:(0,m.$N)({width:t.border.width}),borderRight:(0,m.$N)({width:t.border.width}),boxShadow:t.overlay.dropShadow,background:d.w.colorOut(t.mainColors.bg),zIndex:1},{"&.isUp":{transform:"rotate(-45deg)"},"&.isDown":{transform:"rotate(135deg)"}}));return{box:i,nub:w,nubPosition:u,noPointerContent:l,noPointerTrigger:o,nubStackingLevel:v,boxStackingLevel:a}});var k=n(23493),j=n.n(k),P=n(92633);let C=(e,t)=>{let n=E(),r=(0,c.OF)(),l=e.top-2*n.nub.width+2*r.border.width+window.scrollY,o=e.bottom-2*r.border.width+window.scrollY;return{left:e.left+e.width/2-n.nub.width,top:t?l:o}};function x(e){let t=(0,c.OF)(),{children:n,label:r,ariaLabel:s,customZIndex:u}=e,{zIndex:d}=(0,P.DE)(),[m,p]=(0,i.lL)(),{isVisible:f,triggerRect:b}=p,[g,v]=(0,o.useState)(!1),h=w(),O=E(),k=2*t.border.width,x=(e,t)=>{let n=O.nub.width/2,r=e.left+e.width/2,l=r-t.width/2,o=window.innerWidth-t.width-2,i=e.bottom+t.height+n>window.innerHeight;v(i);let a=e.top-t.height+k-O.nub.width+window.scrollY,c=e.bottom-k+O.nub.width+window.scrollY;return{left:Math.min(Math.max(2,l),o)+window.scrollX,top:i?a:c}},S=function(){let e=(0,o.useRef)(null),[t,n]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let t=j()(()=>{e.current&&clearTimeout(e.current),n(!0),e.current=setTimeout(()=>{n(!1)},200)},100);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[]),t}();return o.createElement(o.Fragment,null,o.createElement(P.Yh,null,(0,o.cloneElement)(n,m),f&&!S&&b&&o.createElement(o.Fragment,null,o.createElement(a.Z,null,o.createElement("div",{className:(0,y.cx)(h.nubPosition,h.nubStackingLevel(null!=u?u:d)),style:C(b,g)},o.createElement("div",{className:l()(h.nub,g?"isDown":"isUp")}))),o.createElement(i.zG,Object.assign({},p,{label:r,"aria-label":s||r,position:x,className:(0,y.cx)(h.box,h.boxStackingLevel(null!=u?u:d))})))))}function S(e){let{children:t,label:n,ariaLabel:r,customZIndex:l}=e;return o.createElement(x,{label:n,ariaLabel:r,customZIndex:l},t)}let D=o.forwardRef(function(e,t){let n=w();return o.createElement("span",Object.assign({},e,{ref:t,tabIndex:0,className:n.noPointerContent}),o.createElement("span",{className:n.noPointerTrigger}),e.children)})},22751(e,t,n){n.d(t,{A:()=>c});var r=n(224),l=n(64611),o=n(92633),i=n(67294);function a(e,t,n,r,l,o,i){try{var a=e[o](i),c=a.value}catch(s){n(s);return}a.done?t(c):Promise.resolve(c).then(r,l)}function c(e,t,n={}){var c,s;let u=(0,i.useMemo)(()=>new l.e(r.ZP),[]);(0,i.useEffect)(()=>{n.success&&u.onSuccessIDs(n.success)},[n.success]),(0,i.useEffect)(()=>{n.failed&&u.onFailedIDs(n.failed)},[n.failed]);let[d,m]=(0,o.il)((s=(c=function*(n){let r=yield u.request({method:e,url:t,data:n});return r.data},function(){var e=this,t=arguments;return new Promise(function(n,r){var l=c.apply(e,t);function o(e){a(l,n,r,o,i,"next",e)}function i(e){a(l,n,r,o,i,"throw",e)}o(void 0)})}),function(e){return s.apply(this,arguments)}),[u,e,t]);return[d,m]}},26544(e,t,n){n.d(t,{N:()=>j});var r=n(67294),l=n(75994),o=n(75864),i=n(28236),a=n(85938),c=n(28590),s=n(34098);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=(0,i.yI)((e,t)=>{var n,r;let i=(0,o.Cg)("userSpotlight"),d=(0,l.OF)(),m=i("options",{box:a.L.box({background:null==e?void 0:e.innerBackground,borderType:null==e?void 0:e.borderType,border:d.border}),container:{spacing:a.L.spacing({bottom:48}),spacingMobile:a.L.spacing({})},userTextAlignment:(null==e?void 0:e.userTextAlignment)?e.userTextAlignment:"left"},e),p=i("breakPoints",{mobile:d.foundationalWidths.breakPoints.xs}),f=()=>{let e=e=>(0,s.BC)({maxWidth:p.mobile},e);return{mobile:e}},b=i("avatarContainer",{sizing:{width:void 0,height:void 0},sizingMobile:{width:void 0,height:void 0},margin:a.L.spacing({}),marginWrapped:a.L.spacing({}),bgImage:void 0,bgPosition:void 0,bg:d.elementaryColors.transparent}),g=i("avatarLink",{margin:a.L.spacing({}),display:"inline-flex"}),y=i("avatar",{border:a.L.border({radius:120}),size:c.pz.LARGE,sizeMobile:void 0}),v=i("textContainer",{font:a.L.font({}),fontMobile:a.L.font({})}),h=i("title",{font:a.L.font((n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},d.fontSizeAndWeightVars("subTitle","bold")),r=(r={color:d.mainColors.fg},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)),fontMobile:a.L.font({}),spacing:a.L.spacing({bottom:10})}),O=i("description",{font:a.L.font({color:d.mainColors.fg}),spacing:a.L.spacing({bottom:10})}),E=i("userText",{font:a.L.font({color:d.mainColors.fg}),fontMobile:a.L.font({}),padding:a.L.spacing({}),margin:a.L.spacing({top:"auto"})}),w=i("userName",{font:a.L.font({color:d.mainColors.fg,weight:d.fonts.weights.bold}),fontMobile:a.L.font({})}),k=i("userTitle",{font:a.L.font({color:d.mainColors.fg})});return{mediaQueries:f,textContainer:v,title:h,description:O,userText:E,userName:w,userTitle:k,options:m,avatarContainer:b,avatarLink:g,avatar:y}});var m=n(11590),p=n(83386),f=n(23410),b=n(59736),g=n(85819);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}let h=(0,o.yI)((e,t)=>{var n,r,o,i,a,c;let s=d(t),u=(0,l.OF)(),y=s.mediaQueries(),h=(0,m.iv)(v({display:"flex",justifyContent:"space-around",alignItems:"center",minWidth:(0,b.dd)(u.foundationalWidths.panelWidth)},p.W.box(s.options.box)),e&&{flexWrap:"wrap"},";label:UserSpotlight-classes-root;"),O=(0,m.iv)({backgroundImage:s.avatarContainer.bgImage?(0,g.HQ)(s.avatarContainer.bgImage):void 0,backgroundPosition:s.avatarContainer.bgPosition,backgroundColor:f.w.colorOut(s.avatarContainer.bg),width:s.avatarContainer.sizing.width,height:s.avatarContainer.sizing.height},e?v({paddingBottom:0},p.W.margin(s.avatarContainer.marginWrapped)):v({paddingRight:0},p.W.margin(s.avatarContainer.margin)),y.mobile({width:s.avatarContainer.sizingMobile.width,height:s.avatarContainer.sizingMobile.height}),";label:UserSpotlight-classes-avatarContainer;"),E=(0,m.iv)(v({display:s.avatarLink.display},p.W.margin(s.avatarLink.margin)),";label:UserSpotlight-classes-avatarLink;"),w=(0,m.iv)(v({},p.W.border(s.avatar.border)),y.mobile({width:s.avatar.sizeMobile,height:s.avatar.sizeMobile}),";label:UserSpotlight-classes-avatar;"),k=s.options.box.spacing,j=null!==(r=null!==(n=k.horizontal)&&void 0!==n?n:k.all)&&void 0!==r?r:u.gutter.size,P=null!==(i=null!==(o=k.vertical)&&void 0!==o?o:k.all)&&void 0!==i?i:u.gutter.size,C=(0,m.iv)(v({display:"flex",flexDirection:"column",flexGrow:1},p.W.font(s.textContainer.font)),e?{paddingTop:P}:{paddingLeft:j},y.mobile(v({},p.W.font(s.textContainer.fontMobile))),";label:UserSpotlight-classes-textContainer;"),x=(0,m.iv)(v({},p.W.font(s.title.font),p.W.padding(s.title.spacing)),y.mobile(v({},p.W.font(s.title.fontMobile))),";label:UserSpotlight-classes-title;"),S=(0,m.iv)(v({},p.W.font(s.description.font),p.W.padding(s.description.spacing)),";label:UserSpotlight-classes-description;"),D=(0,m.iv)((a=v({},p.W.font(s.userText.font),p.W.padding(s.userText.padding),p.W.margin(s.userText.margin)),c=(c={alignSelf:"right"===s.options.userTextAlignment?"flex-end":void 0},c),Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(c)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(c,e))}),a),y.mobile(v({},p.W.font(s.userText.fontMobile))),";label:UserSpotlight-classes-userText;"),L=(0,m.iv)(v({},p.W.font(s.userName.font)),y.mobile(v({},p.W.font(s.userName.fontMobile))),";label:UserSpotlight-classes-userName;"),N=(0,m.iv)(v({},p.W.font(s.userTitle.font)),";label:UserSpotlight-classes-userTitle;");return{root:h,avatarContainer:O,avatarLink:E,avatar:w,textContainer:C,title:x,description:S,userText:D,userName:L,userTitle:N}});var O=n(48421),E=n(92633),w=n(96142),k=n(25516);function j(e){let{title:t,subtitle:n,description:l,options:o,userInfo:i}=e,a=(0,r.useRef)(null),s=(0,E.xE)(a),u=s.width>0&&s.width<(0,k.o)().panel.paddedWidth,m=d(o),p=h(u,o);return r.createElement("div",{ref:a,className:p.root},r.createElement("div",{className:p.avatarContainer},r.createElement(O.Z,{userFragment:i,className:p.avatarLink},r.createElement(c.cy,{userInfo:i,size:m.avatar.size,className:p.avatar}))),r.createElement("div",{className:p.textContainer},n&&r.createElement("div",{className:(0,w.B)().subtitle},n),t&&r.createElement("div",{className:p.title},t),l&&r.createElement("div",{className:p.description},l),r.createElement("div",{className:p.userText},r.createElement(O.Z,{userFragment:i,className:p.userName},i.name,i.title&&r.createElement("span",null,", ")),i.title&&r.createElement("span",{className:p.userTitle},i.title))))}},14649(e,t,n){n.d(t,{O:()=>s});var r=n(67294),l=n(17102),o=n(26544),i=n(32812),a=n(33091);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t,n,s;let{title:u,subtitle:d,description:m,containerOptions:p,userInfo:f,userTextAlignment:b="left"}=e,g=(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}({},p),s=(s={borderType:null!==(t=null==p?void 0:p.borderType)&&void 0!==t?t:a.Tv.SHADOW,userTextAlignment:b},s),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(s)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))}),n);return r.createElement(i.$,null,r.createElement(l.h,{options:p},r.createElement(o.N,{title:u,subtitle:d,description:m,options:g,userInfo:f})))}},9355(e,t,n){n.d(t,{Z:()=>r});let r=class{constructor(){this.listeners=[],this.emit=e=>{this.listeners.forEach(t=>{t(e)})},this.addEventListener=e=>{this.listeners.push(e)},this.removeEventListener=e=>{this.listeners=this.listeners.filter(t=>e!==t)}}}},57298(e,t,n){n.d(t,{$V:()=>E,CN:()=>f,D5:()=>m,Fi:()=>O,Hm:()=>d,PX:()=>u,US:()=>s,Um:()=>h,_F:()=>j,e1:()=>C,ei:()=>P,nQ:()=>k,or:()=>b,pZ:()=>g,rO:()=>y,t:()=>i.t,tI:()=>w,xZ:()=>c,yq:()=>p});var r=n(24713),l=n(22021);n(66309);var o=n(8975),i=n(52303);let a=/^\s*(https?:)?\/\//i;function c(e,t){if(!r.Z.meta)return t;let n=e.split("."),l=r.Z.meta;for(let o of n){if(!l.hasOwnProperty(o))return t;l=l[o]}return l}function s(e,t){let n=e.split("."),l=n.pop();if(!l)throw Error(`Unable to set meta value ${e}. ${l} is not a valid object key.`);let o=r.Z.meta;for(let i of n)(null===o[i]||"object"!=typeof o[i])&&(o[i]={}),o=o[i];o[l]=t}function u(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}function d(e){return u(e)}function m(e){let t=e.match(/^https?:\/\//)?e:"http://"+e;return t}function p(){return c("siteSection")}function f(e,t=!1){if(a.test(e))return e;let n=c("context.basePath","");e.startsWith("~")&&(e=e.replace(/^~/,""),n=c("context.host",""));let r=t?window.location.origin+n:n;return r+e}function b(e){if(a.test(e))return e;let t=window.location.origin,n=c("context.host","");return e.startsWith(n)||(t+=n),t+e}function g(e){if(a.test(e))return e;let t=c("context.staticPathFolder",""),n=c("context.assetPath","");return t+n+e}function y(e){let t=c("ui.themeKey");return g(`/themes/${t}/${e}`)}let v=[];function h(e){v.push(e)}function O(e){return new Promise(t=>{let n=v.map(e=>{let t=e();return t instanceof Promise&&t.catch(e=>(0,l.H)(e)),t}),r=()=>(null==e||e(),Promise.all(n).then(t));if("loading"!==document.readyState)return r();document.addEventListener("DOMContentLoaded",r)})}function E(e){document.addEventListener("X-DOMContentReady",e)}function w(e){let t=`/profile/${encodeURIComponent(e)}`;return f(t,!0)}function k(e){let t=`/profile/discussions/${encodeURIComponent(e)}`;return f(t,!0)}function j(e){let t=`/profile/comments/${encodeURIComponent(e)}`;return f(t,!0)}function P(e,t){return(0,o.sprintf)(e,t)}function C(e){return Object.entries(null!=e?e:{}).filter(([e,t])=>t).map(e=>`${e.reverse().join(" ")}w`).join(",")}},45607(e,t,n){n.d(t,{B9:()=>m,Tk:()=>d,Xr:()=>p,ir:()=>a,lx:()=>f}),n(28236);var r=n(92633),l=n(22021),o=n(67294);function i(e,t,n,r,l,o,i){try{var a=e[o](i),c=a.value}catch(s){n(s);return}a.done?t(c):Promise.resolve(c).then(r,l)}function a(){return!0}let c={},s=null,u=!1;function d(e,t,n){c[e.toLowerCase()]={Component:t,mountOptions:n}}function m(e){s=e}function p(e){var t;return null!==(t=c[e.toLowerCase()])&&void 0!==t?t:null}function f(e){return b.apply(this,arguments)}function b(){var e;return(b=(e=function*(e){performance.mark("Mount Components - Start"),(0,l.o7)("Mounting react components");let t=[],n=e.querySelector("#app"),i=[];if(n instanceof HTMLElement&&null!==s&&!u){u=!0;let a=s;(0,l.o7)("Found page component to mount",s),i.push({target:n,component:o.createElement(a,null)})}let c=[];e.querySelectorAll("[data-react]").forEach(e=>{var n,a,s;if(!(e instanceof HTMLElement)){(0,l.KE)("Attempting to mount a data-react component on an invalid element",e);return}let u=e.getAttribute("data-react")||"",d=e.getAttribute("data-props")||{};if("string"==typeof d)try{d=JSON.parse(d)}catch(m){(0,l.H)(m,{node:e,name:u,props:d});return}let f=p(u);if(!f)return;let b=e.innerHTML;e.innerHTML="",e.removeAttribute("data-react"),e.removeAttribute("data-props"),"true"===e.getAttribute("data-unhide")&&c.push(e);let g=o.createElement(f.Component,Object.assign({},d,{contents:b}));(null===(n=f.mountOptions)||void 0===n?void 0:n.bypassPortalManager)?t.push(new Promise(t=>{performance.mark(`Mount Components - ${u} - Start`),(0,r.Sy)(g,e,()=>{performance.mark(`Mount Components - ${u} - End`),t()},f.mountOptions)})):i.push({component:g,target:e,overwrite:null!==(s=null===(a=f.mountOptions)||void 0===a?void 0:a.overwrite)&&void 0!==s&&s})}),t.push(new Promise(e=>{(0,r.Fr)(i,()=>{c.forEach(e=>{e.removeAttribute("style")}),e()})})),yield Promise.all(t).finally(()=>{performance.mark("Mount Components - End")})},function(){var t=this,n=arguments;return new Promise(function(r,l){var o=e.apply(t,n);function a(e){i(o,r,l,a,c,"next",e)}function c(e){i(o,r,l,a,c,"throw",e)}a(void 0)})})).apply(this,arguments)}},53994(e,t,n){n.d(t,{g:()=>a,n:()=>c});var r,l,o=n(67294),i=n(57298);function a(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=Object.values(r)[t],l=Number.parseFloat((e/Math.pow(1024,t)).toFixed(2)),o=function(e){switch(e){case r.B:return(0,i.t)("Byte");case r.KB:return(0,i.t)("Kilobyte");case r.MB:return(0,i.t)("Megabyte");case r.GB:return(0,i.t)("Gigabyte");case r.TB:return(0,i.t)("Terabyte")}}(n);return{amount:l,unit:o,unitAbbr:n}}function c(e){let t=a(e.numBytes);return o.createElement(o.Fragment,null,t.amount,o.createElement("abbr",{title:t.unit},` ${t.unitAbbr}`))}(l=r||(r={})).B="B",l.KB="KB",l.MB="MB",l.GB="GB",l.TB="TB"},79089(e,t,n){n.d(t,{C8:()=>c,hu:()=>i,q1:()=>a,qC:()=>o});var r=n(67294);let l={};function o(e=""){let t=0;return e in l&&(t=l[e]+1),l[e]=t,e+"-"+l[e]}function i(e){return(0,r.useMemo)(()=>o(e),[e])}function a(e,t){return e.id?e.id:o(t)}function c(e,t){if(!e.id)return null;if("string"==typeof e.id)return e.id;if("boolean"==typeof e.id&&t)return o(t);throw Error("To generate and ID, you must provide a suffix.")}},49727(e,t,n){n.d(t,{el:()=>nc});var r,l,o,i,a=n(11590),c=n(21328),s=n(88324),u=n(67147),d=n(23410),m=n(75994),p=n(34098),f=n(77471),b=n(45904),g=n(67294);function y(e){let[t,n]=(0,g.useState)(e.showConversionNotice),r=(0,g.useRef)(null),l=(0,f.f)(!0);return(0,g.useEffect)(()=>{n(e.showConversionNotice)},[e]),g.createElement(g.Fragment,null,t&&g.createElement(b.M,{ref:r,className:l.conversionNotice,onCancel:function(){var e;let t=null===(e=r.current)||void 0===e?void 0:e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=t.querySelector(".Button.Cancel");n instanceof HTMLElement&&n.click()},onConfirm:()=>n(!1)}))}var v=n(224),h=n(10930),O=n(74367),E=n(95774),w=n(88048),k=n(81305),j=n(75115);let P={middleware:[(0,k.RRI)({padding:96})],placement:"bottom",strategy:"absolute",getBoundingClientRect:k.x1k},C=g.forwardRef(function(e,t){var n;let{children:r,nubWidth:l=(0,j.Z)().nub.width}=e,o=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["children","nubWidth"]),i=null!==(n=e.nubHeight)&&void 0!==n?n:l,{placement:c}=o,s=o.middlewareData.arrow,u=(null==s?void 0:s.x)||0,d=o.refs.floating.current?"top"===c?o.refs.floating.current.offsetHeight-1:1-2*i:null,m={left:null!=u?`${u}px`:"",top:null!=d?`${d}px`:""},p=(0,w.P)("top"===c?"above":"below"),{above:f,below:b}=(0,w.j)();return g.createElement("div",{className:(0,a.cx)((0,a.iv)({name:"jzbo77-Floating-className",styles:"position:absolute;top:0;z-index:5;label:Floating-className;"}),"top"===c?f:b),style:o.style,ref:o.floating},e.children,t?g.createElement("div",{ref:t,className:p.position,style:m},g.createElement("div",{className:p.root})):null)});var x=n(41710),S=n(69612),D=n(17085),L=n(52303),N=n(92633);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T=e=>{var t,n,r,l,o,i,a,c,s,u;let{component:d,items:m,onRenderItem:p}=e,f=x.L5.targetRange(),b=x.L5.filteredItems(),y=x.L5.highlightedIndex(),v=x.L5.floatingOptions(),h=(0,S.sZ5)(),{getMenuProps:O,getItemProps:E}=(0,x._B)(),w=(0,x.KB)(),j=null!==(a=x.L5.text())&&void 0!==a?a:"",P=x.L5.items(),T=null===(n=(t=w.use).filter)||void 0===n?void 0:n.call(t),R=null===(l=(r=w.use).sort)||void 0===l?void 0:l.call(r),B=null!==(c=null===(i=(o=w.use).maxSuggestions)||void 0===i?void 0:i.call(o))&&void 0!==c?c:P.length;(0,g.useEffect)(()=>{m&&x.kJ.items(m)},[m]),(0,g.useEffect)(()=>{x.kJ.filteredItems(P.filter(T?T(j):e=>e.text.toLowerCase().startsWith(j.toLowerCase())).sort(null==R?void 0:R(j)).slice(0,B))},[T,R,P,B,j]);let A=(0,g.useCallback)(()=>{if(!f)return N.Do;let e=(0,k.kGl)(h);if(!e)return N.Do;let t=(0,k.rwb)(h,e[0]);return t?t.getBoundingClientRect():N.Do},[h,f]),$=(0,D.AJ)((s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}({},v),u=(u={placement:"bottom-start",getBoundingClientRect:A},u),Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(u)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(u,e))}),s)),F=O?O({},{suppressRefError:!0}):{ref:null},{listWrapperClassName:M,listClassName:U,listItemClassName:W,highlightedListItemClassName:H}=e;return g.createElement(C,Object.assign({},$),g.createElement("span",{className:M},g.createElement("ul",Object.assign({},F,{"aria-label":(0,L.t)("@mention user suggestions"),role:"listbox",className:U}),d?d({store:w}):null,b.map((e,t)=>{let n=p?p({search:j,item:e}):e.text,r=t===y;return g.createElement("li",Object.assign({key:e.key,className:r?H:W},E({item:e,index:t}),{"aria-selected":r,role:"option",onMouseDown(t){var n;t.preventDefault();let r=null===(n=(0,x.iN)(x.l$.activeId()))||void 0===n?void 0:n.get.onSelectItem();null==r||r(h,e)},onMouseEnter(e){x.kJ.highlightedIndex(t)}}),n)}))))},R=e=>{var t,n,{id:r,trigger:l,searchPattern:o,onSelectItem:i,controlled:a,maxSuggestions:c,filter:s,sort:u,floatingOptions:d,disabled:m}=e,p=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["id","trigger","searchPattern","onSelectItem","controlled","maxSuggestions","filter","sort","floatingOptions","disabled"]);let f=x.L5.items(),b=null!=m?m:!f.length&&!(null===(t=p.items)||void 0===t?void 0:t.length),y=(0,S.sZ5)(),v=null===(n=S.dFs.focus)||void 0===n?void 0:n.call(S.dFs),h=(0,x._B)(),O=x.L5.activeId();return((0,g.useEffect)(()=>{d&&x.kJ.floatingOptions(d)},[d]),(0,g.useEffect)(()=>{x.kJ.setComboboxById({id:r,trigger:l,searchPattern:o,controlled:a,onSelectItem:i,maxSuggestions:c,filter:s,sort:u})},[r,l,o,a,i,c,s,u]),h&&y.selection&&v===y.id&&O===r&&!b)?g.createElement(T,Object.assign({},p)):null};var B=n(80812),A=n(73955),$=n.n(A),F=n(46458);let M=g.createContext({isFocusWithinEditor:!1,editorRef:g.createRef()});function U(e){let[t,n]=(0,g.useState)(!1),r=(0,k.U7P)((0,k.mxW)()),l=(0,g.useRef)(null);return(0,N.LJ)(l,e=>{!t&&e?n(!0):t&&!e&&n(!1)}),(0,g.useEffect)(()=>{var e;let t=e=>{(0,k.mRq)(r).length>0&&(e.stopPropagation(),e.stopImmediatePropagation())};null===(e=l.current)||void 0===e||e.addEventListener("onKeyDown",t);let n=l.current;return()=>{null==n||n.removeEventListener("onKeyDown",t)}},[r]),g.createElement(M.Provider,{value:{isFocusWithinEditor:t,editorRef:l}},g.createElement("div",{style:{position:"relative"},id:"vanilla-editor-focus-context",ref:l},e.children))}function W(){return(0,g.useContext)(M)}var H=n(95455),Z=n(92234),z=n(47178);let Q=(0,F.$j)(E.Z.mapStateToProps,e=>({suggestionActions:new O.Z(e,v.ZP)})),K=Q(function(e){var t,n;let{suggestionActions:r,suggestions:l,pluginKey:o=k.E4J}=e,i=null!==(t=k.L55.text())&&void 0!==t?t:"",c=(null!==(n=null==l?void 0:l.data)&&void 0!==n?n:[]).map(e=>{let{userID:t,name:n}=e;return{key:`${t}`,text:n,data:e}}),s=e.isLoading,u=$()("mentionList-noResults-"),d=e.lastSuccessfulUsername,m=e.activeSuggestionID,p=k.L55.highlightedIndex();(0,g.useEffect)(()=>{var t;if(void 0!==p&&(null===(t=c[p])||void 0===t?void 0:t.data)){let n=c[p].data.domID;e.suggestionActions.setActive(n,p)}},[p,c]),(0,g.useEffect)(()=>{r.loadUsers(i)},[i]);let f=(0,S.rO3)(),{trigger:b}=(0,S.lMF)(f,o),y=m===u,{editorRef:v}=W();(0,g.useEffect)(()=>{var t,n;let r=(0,k.kGl)(f);i&&r&&(null===(t=e.suggestions)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.length)===0&&e.suggestions.status===z.Px.SUCCESS&&(0,k.O6Y)(f,r[1])},[i,f,e.suggestions]);let O=(0,H.sj)().listWrapper,E=(0,a.cx)("richEditor-menu","likeDropDownContent",(0,H.sj)().list,{isHidden:!(c.length>0)&&!s},(0,Z.IJ)().likeDropDownContent),w=(0,H.cy)().listItem,j=(0,H.cy)(!0).listItem;return g.createElement(R,{id:o,maxSuggestions:5,trigger:b,controlled:!0,onSelectItem:(0,B.Nv)({key:o}),disabled:!1,items:c,floatingOptions:{middleware:[(0,k.uYj)({boundary:v.current,padding:14}),(0,k.cvk)(-10)]},listWrapperClassName:O,listClassName:E,listItemClassName:w,highlightedListItemClassName:j,onRenderItem:function(e){return g.createElement(h.ZP,{key:e.item.data.domID,mentionData:e.item.data,matchedString:null!=d?d:e.search})},component:s?function(){let e=(0,H.cy)(y);return g.createElement("li",{key:"Loading",id:u,className:(0,a.cx)(e.listItem),role:"option","aria-selected":y},g.createElement(h.of,null))}:void 0})});var J=n(19281),q=n(33188),V=n(60979),G=n(1514),_=n(38041),X=n(42682),Y=n(92878),ee=n(49294),et=n(57298),en=n(79089);let er=()=>(0,k.CET)(),el=()=>(0,k.sZ5)(),eo=e=>(0,k.U7P)(e),ei=(e={})=>(0,k.JIX)(e);var ea=n(28236);let ec=(0,ea.yI)(()=>{let e=(0,a.iv)({name:"1c7pt24-VanillaEditor-classes-root",styles:"padding:14px;&.focus-visible, &:focus, &:focus-visible{outline:none;};label:VanillaEditor-classes-root;"}),t=(0,a.iv)({name:"gqcwir-VanillaEditor-classes-elementToolbarPosition",styles:"position:absolute;z-index:10;transition:transform linear 50ms;will-change:transform;top:0;left:0;label:VanillaEditor-classes-elementToolbarPosition;"}),n=(0,a.iv)({name:"1xrt8nu-VanillaEditor-classes-elementToolbarContents",styles:"position:absolute;top:100%;left:0;label:VanillaEditor-classes-elementToolbarContents;"});return{root:e,elementToolbarPosition:t,elementToolbarContents:n}});var es=n(18156),eu=n(84596),ed=n.n(eu);let em=(e,{type:t,options:{hotkey:n}})=>t=>{if(!n)return;let r=new eS(e),l=ed()(n);for(let o of l)if((0,es.ZP)(o,t)){t.preventDefault(),r.isBlockquote()?ev(e):r.blockquote();return}},ep=e=>{if(e.selection&&(0,k.ptC)(e)){var t;let[,n]=null!==(t=(0,k.xmC)(e))&&void 0!==t?t:[],r=(0,k.PoD)(e);if(n&&r&&n[0]!==r[1][0]){(0,k.r4l)(e,{at:n});let l=(0,k.J5C)(e,{defaultType:(0,k.bbC)(e,k.mnA)});if(l)return!0}}},ef=e=>{let{normalizeNode:t}=e,n=(0,k.bbC)(e,k.ahg),r=(0,k.bbC)(e,eg);return([l,o])=>{if(!(0,k.kKo)(l))return t([l,o]);if(l.type===n){let i=(0,k.Ga5)([l,o]).find(([e])=>e.type!==r);if(i){let[a,c]=i;if(!a.type)return(0,k.qEX)(e,{type:r,children:[]},{at:c});if((0,k.bdV)(e).includes(a.type))return(0,k.See)(e,{at:c}),(0,k.oUB)(e,{type:r},{at:c});if(a.type!==n)return(0,k.oUB)(e,{type:r},{at:c});(0,k.LKm)(e,{at:o,match:{type:n},split:!1})}}t([l,o])}},eb=e=>{let{insertBreak:t}=e;return e.insertBreak=()=>{!ep(e)&&t()},e.normalizeNode=ef(e),e},eg="blockquote-line",ey=(0,k.xje)({key:k.ahg,isElement:!0,deserializeHtml:{rules:[{validNodeName:"BLOCKQUOTE"}]},withOverrides:eb,options:{hotkey:"mod+shift+."},handlers:{onKeyDown:em},plugins:[{key:eg,isElement:!0,deserializeHtml:{rules:[{validNodeName:"P",validClassName:"blockquote-content"}]}}]}),ev=(e,{at:t}={})=>{let n=(0,k.bbC)(e,k.ahg),r=(0,k.bbC)(e,eg),l=(0,k.bbC)(e,k.mnA),o=()=>{if((0,k.Zg$)(e,{match:{type:n,at:t}}))return!0;if(!t&&e.selection){let r=(0,k.LMm)(e,e.selection.anchor.path,e.selection.focus.path);if((0,k.kKo)(r[0])&&r[0].type===n)return!0}return!1};(0,k.kRc)(e,()=>{do{let i=(0,k.xmC)(e,{at:t,match:{type:r}});i&&(0,k.oUB)(e,{at:t,type:l}),(0,k.LKm)(e,{at:t,match:{type:[r,n]},split:!0,block:!0})}while(o())})},eh=e=>{if(e.selection&&(0,k.ptC)(e)){var t;let[,n]=null!==(t=(0,k.xmC)(e))&&void 0!==t?t:[],r=(0,k.PoD)(e);if(n&&r&&n[0]!==r[1][0]){(0,k.r4l)(e,{at:n});let l=(0,k.J5C)(e,{defaultType:(0,k.bbC)(e,k.mnA)});if(l)return!0}}},eO=e=>{let{normalizeNode:t}=e,n=(0,k.bbC)(e,ew),r=(0,k.bbC)(e,ej),l=(0,k.bbC)(e,ek);return([o,i])=>{if(!(0,k.kKo)(o))return t([o,i]);if(o.type===n){let a=(0,k.Ga5)([o,i]).find(([e])=>![r,l,n].includes(e.type));if(a)return(0,k.qEX)(e,{type:r,children:[]},{at:a[1]})}if(o.type===r){let c=(0,k.Ga5)([o,i]).find(([e])=>e.type!==l);if(c){let[s,u]=c;if(!s.type)return(0,k.qEX)(e,{type:l,children:[]},{at:u});if((0,k.bdV)(e).includes(s.type))return(0,k.See)(e,{at:u}),(0,k.oUB)(e,{type:l},{at:u});if(s.type!==n)return(0,k.oUB)(e,{type:l},{at:u});(0,k.LKm)(e,{at:u,match:{type:[r,n]},split:!1})}}t([o,i])}},eE=e=>{let{insertBreak:t}=e;return e.insertBreak=()=>{!eh(e)&&t()},e.normalizeNode=eO(e),e},ew="spoiler",ek="spoiler-item",ej="spoiler-content",eP=(0,k.xje)({key:ew,isElement:!0,withOverrides:eE,deserializeHtml:{rules:[{validNodeName:"DIV",validClassName:"spoiler"}]},plugins:[{key:ej,isElement:!0,deserializeHtml:{rules:[{validNodeName:"DIV",validClassName:"spoiler-content"}]}},{key:ek,isElement:!0,deserializeHtml:{rules:[{validNodeName:"P",validClassName:"spoiler-line"}]}}]}),eC=(e,{at:t}={})=>{let n=(0,k.bbC)(e,ew),r=(0,k.bbC)(e,ej),l=(0,k.bbC)(e,ek),o=(0,k.bbC)(e,k.mnA),i=()=>{if((0,k.Zg$)(e,{match:{type:n,at:t}}))return!0;if(!t&&e.selection){let r=(0,k.LMm)(e,e.selection.anchor.path,e.selection.focus.path);if((0,k.kKo)(r[0])&&r[0].type===n)return!0}return!1};(0,k.kRc)(e,()=>{do{let a=(0,k.xmC)(e,{at:t,match:{type:l}});a&&(0,k.oUB)(e,{at:t,type:o}),(0,k.LKm)(e,{at:t,match:{type:[l,r,n]},split:!0,block:!0})}while(i())})};var ex=n(32735);class eS{isUnorderedList(){return this.isListElement(k.HtX)}constructor(e){this.editor=e,this.isElement=e=>{var t;return!!(null===(t=this.editor)||void 0===t?void 0:t.selection)&&(0,k.zwG)(this.editor,{match:{type:e}})},this.toggleElement=e=>{(this.isOrderedList()||this.isUnorderedList())&&(0,k.See)(this.editor),this.isBlockquote()&&ev(this.editor),this.isCodeBlock()&&(0,k.LKm)(this.editor,{match:{type:k.Zvw}}),this.isSpoiler()&&eC(this.editor),(0,k.uPr)(this.editor,{activeType:e,inactiveType:e}),(0,k.$Rk)(this.editor)},this.isListElement=e=>{var t,n;if(!(null===(t=this.editor)||void 0===t?void 0:t.selection))return!1;let r=null===(n=(0,k.j8F)(this.editor))||void 0===n?void 0:n.list;if(!r)return!1;let[l,o]=r;return l.type===e},this.isOrderedList=()=>this.isListElement(k.kN6),this.orderedList=()=>{(0,k.kQP)(this.editor,{type:k.kN6}),(0,k.$Rk)(this.editor)},this.unorderedList=()=>{(0,k.kQP)(this.editor,{type:k.HtX}),(0,k.$Rk)(this.editor)},this.canIndentList=()=>{var e,t;if(!(null===(e=this.editor)||void 0===e?void 0:e.selection))return!1;let n=null===(t=(0,k.j8F)(this.editor))||void 0===t?void 0:t.listItem;if(!n)return!1;let[r,l]=n;return!(0,k.scZ)(l)},this.canOutdentList=()=>{var e,t;if(!(null===(e=this.editor)||void 0===e?void 0:e.selection))return!1;let n=null===(t=(0,k.j8F)(this.editor))||void 0===t?void 0:t.listItem;if(!n)return!1;let r=(0,k.Zg$)(this.editor,{block:!0,match:e=>e.type===k.f86,at:n[1]});return!!r&&!ex.y$.equals(n[1],r[1])},this.indentList=()=>{(0,k.A79)(this.editor)},this.outdentList=()=>{(0,k.Ej1)(this.editor)},this.isH2=()=>this.isElement(k.oGK),this.h2=()=>{this.toggleElement(k.oGK)},this.isH3=()=>this.isElement(k.o3Y),this.h3=()=>{this.toggleElement(k.o3Y)},this.isH4=()=>this.isElement(k.jB_),this.h4=()=>{this.toggleElement(k.jB_)},this.isH5=()=>this.isElement(k.$H6),this.h5=()=>{this.toggleElement(k.$H6)},this.isCodeBlock=()=>this.isElement(k.sTz),this.codeBlock=()=>{(0,k.p_F)(this.editor)},this.isBlockquote=()=>this.isElement(k.ahg),this.blockquote=()=>{this.isBlockquote()?ev(this.editor):this.toggleElement(k.ahg)},this.isSpoiler=()=>this.isElement(ew),this.spoiler=()=>{this.isSpoiler()?eC(this.editor):this.toggleElement(ew)},this.isParagraph=()=>this.isElement(k.JBe),this.paragraph=()=>{this.toggleElement(k.JBe)}}}function eD(){var e;let t=(0,k.U7P)(),n=null!==(e=function(e){var t;if(!e.selection)return null;let n=(0,S.Zg$)(e,{at:e.selection,block:!0,match:e=>e.type!==k.HtX&&e.type!==k.kN6&&e.type!==k.wl8});if(!n)return null;let[r]=n,l=(0,k.rwb)(e,r),o=null!==(t=null==l?void 0:l.getBoundingClientRect())&&void 0!==t?t:null;return o}(t))&&void 0!==e?e:N.Do,{editorRef:r}=W(),l=(0,g.useMemo)(()=>{var e,t;return null!==(t=null==r?void 0:null===(e=r.current)||void 0===e?void 0:e.getBoundingClientRect())&&void 0!==t?t:N.Do},[n]),o=ec(),i=(0,en.hu)("elementToolbar"),a=(0,en.hu)("elementToolbar-content"),c=(0,g.useMemo)(()=>{let e=n.top-l.top+n.height/2;return`translate(calc(-100% + -4px), calc(-50% + ${e}px))`},[n,l]);if(!t.selection||l===N.Do||n===N.Do)return g.createElement(g.Fragment,null);let s=(0,k.mRq)(t);return s.length>0&&(0,k.jks)(t)?g.createElement(g.Fragment,null):g.createElement("span",{className:o.elementToolbarPosition,style:{transform:c}},g.createElement(J.Z,{buttonProps:{buttonType:q.q.CUSTOM},buttonClassName:(0,_.s)().menuItemIconContent,buttonContents:g.createElement(eL,null),id:i,contentID:a,openAsModal:!1,alwaysRender:!0},e=>g.createElement(eI,{id:a,"aria-hidden":!e.isVisible,className:o.elementToolbarContents,style:{display:e.isVisible?void 0:"none"}})))}function eL(){var e,t;let{headingIcon:n,listIcon:r,otherIcon:l}=eN();return null!==(t=null!==(e=null!=n?n:r)&&void 0!==e?e:l)&&void 0!==t?t:g.createElement(V.Ip,null)}function eN(){let e=eo((0,k.mxW)()),t=new eS(e),n=t.isH2()?g.createElement(V.E7,null):t.isH3()?g.createElement(V.tn,null):t.isH4()?g.createElement(V.xO,null):t.isH5()?g.createElement(V.wN,null):null,r=t.isOrderedList()?g.createElement(V.X4,null):t.isUnorderedList()?g.createElement(V.AS,null):null,l=t.isBlockquote()?g.createElement(V.kn,null):t.isCodeBlock()?g.createElement(V.MM,null):t.isSpoiler()?g.createElement(V.W5,null):null;return{headingIcon:n,listIcon:r,otherIcon:l}}function eI(e){let t=eo((0,k.mxW)()),n=new eS(t),{headingIcon:r,listIcon:l,otherIcon:o}=eN();return g.createElement(G.j,Object.assign({},e),g.createElement(X.o,{accessibleLabel:(0,et.t)("Toggle Heading Menu"),active:null!==r,icon:null!=r?r:g.createElement(V.E7,null)},g.createElement(ee.d,null,g.createElement(Y.U,{onActivate:()=>n.h2(),active:n.isH2(),icon:g.createElement(V.E7,null)},(0,et.t)("Heading 2")),g.createElement(Y.U,{onActivate:()=>n.h3(),active:n.isH3(),icon:g.createElement(V.tn,null)},(0,et.t)("Heading 3")),g.createElement(Y.U,{onActivate:()=>n.h4(),active:n.isH4(),icon:g.createElement(V.xO,null)},(0,et.t)("Heading 4")),g.createElement(Y.U,{onActivate:()=>n.h5(),active:n.isH5(),icon:g.createElement(V.wN,null)},(0,et.t)("Heading 5")))),g.createElement(X.o,{accessibleLabel:(0,et.t)("Toggle Lists Menu"),active:null!==l,icon:null!=l?l:g.createElement(V.AS,null)},g.createElement(ee.d,null,g.createElement(Y.U,{onActivate:()=>n.unorderedList(),active:n.isUnorderedList(),icon:g.createElement(V.AS,null)},(0,et.t)("Bulleted List")),g.createElement(Y.U,{onActivate:()=>n.orderedList(),active:n.isOrderedList(),icon:g.createElement(V.X4,null)},(0,et.t)("Ordered List"))),g.createElement(ee.d,null,g.createElement(Y.U,{disabled:!n.canIndentList(),onActivate:()=>n.indentList(),icon:g.createElement(V.vB,null)},(0,et.t)("Indent")),g.createElement(Y.U,{disabled:!n.canOutdentList(),onActivate:()=>n.outdentList(),icon:g.createElement(V.Oe,null)},(0,et.t)("Outdent")))),g.createElement(X.o,{active:null!==o,accessibleLabel:(0,et.t)("Toggle Special Formats Menu"),icon:null!=o?o:g.createElement(V.kn,null)},g.createElement(ee.d,null,g.createElement(Y.U,{active:n.isBlockquote(),onActivate:()=>n.blockquote(),icon:g.createElement(V.kn,null)},(0,et.t)("Quote")),g.createElement(Y.U,{active:n.isCodeBlock(),onActivate:()=>n.codeBlock(),icon:g.createElement(V.MM,null)},(0,et.t)("Code Block")),g.createElement(Y.U,{active:n.isSpoiler(),onActivate:()=>n.spoiler(),icon:g.createElement(V.W5,null)},(0,et.t)("Spoiler")))),g.createElement(X.o,{accessibleLabel:(0,et.t)("Paragraph (Removes paragraph style and sets to plain paragraph)"),icon:g.createElement(V.Ip,null),onActivate(){n.paragraph()},active:n.isParagraph()}))}var eT=n(77423),eR=n(55585);function eB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eA=({floatingOptions:e}={})=>{var t,n,r;let l=(0,k.U7P)((0,k.mxW)()),o=(0,eR.UE)(),i=W().isFocusWithinEditor,a=i||o,[c,s]=(0,g.useState)(!1),[u,d]=(0,g.useState)(!1),m=(0,k.mRq)(l),p=null!==(t=null==m?void 0:m.length)&&void 0!==t?t:0,f=(0,k.sCb)(l);(0,g.useEffect)(()=>{a||s(!0),a&&s(!1),f||s(!1)},[a,f]);let b=(0,D.AJ)((0,k.dGq)({open:u,onOpenChange:d},e)),{update:y}=b;return(0,g.useEffect)(()=>{!f||!m||(0,k.jks)(l)||c?d(!1):a&&f&&p>0&&(y(),d(!0))},[l.id,l.selection,f,m,c,l,a,p,y]),(0,k.y1X)("escape",e=>{var t;(0,k.lB7)(l,{edge:"end"}),(0,k.$Rk)(l,null!==(t=l.selection)&&void 0!==t?t:void 0)},{enabled:u,enableOnContentEditable:!0},[u]),(0,g.useEffect)(()=>{p>0&&(null==y||y())},[p,y]),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eB(e,t,n[t])})}return e}({},b),r=(r={open:u},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n};function e$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eF=()=>{var e,t,n;let r=el(),l=(0,g.useRef)(null),o=!!(null==r?void 0:r.selection)&&(0,k.zwG)(r,{match:{type:(0,k.bbC)(r,k.uJg)}}),i=(0,k.$Qv)().isOpen(r.id),a=(0,k.$Qv)().mode(),c=i&&["insert","edit"].includes(a),{editorRef:s}=W(),u=eA({floatingOptions:(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){e$(e,t,n[t])})}return e}({},P),n=(n={middleware:[(0,k.uYj)({boundary:s.current,padding:14}),...null!==(e=P.middleware)&&void 0!==e?e:[],(0,k.x7s)({element:l})]},n),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)});return c?null:g.createElement(C,Object.assign({ref:l},u),g.createElement(G.j,null,g.createElement(X.o,{accessibleLabel:(0,et.t)("Format as Bold"),icon:g.createElement(V.mY,null),active:(0,k.yw6)(r,k.Qpp),onActivate(){(0,k.$Rk)(r),(0,k.w9d)(r,{key:k.Qpp})}}),g.createElement(X.o,{accessibleLabel:(0,et.t)("Format as Italic"),icon:g.createElement(V.h3,null),active:(0,k.yw6)(r,k.mZ5),onActivate(){(0,k.$Rk)(r),(0,k.w9d)(r,{key:k.mZ5})}}),g.createElement(X.o,{accessibleLabel:(0,et.t)("Format as Strikethrough"),icon:g.createElement(V.db,null),active:(0,k.yw6)(r,k.Vjd),onActivate(){(0,k.$Rk)(r),(0,k.w9d)(r,{key:k.Vjd})}}),g.createElement(X.o,{accessibleLabel:(0,et.t)("Format as Inline Code"),icon:g.createElement(V.dN,null),active:(0,k.yw6)(r,k.QMB),onActivate(){(0,k.$Rk)(r),(0,k.w9d)(r,{key:k.QMB})}}),g.createElement(X.o,{accessibleLabel:o?(0,et.t)("Remove link"):(0,et.t)("Format as link"),icon:g.createElement(eT.JO,{icon:"editor-link"}),active:o,onActivate(){o?((0,k.Nxg)(r),(0,k.$Rk)(r,r.selection)):setTimeout(()=>{(0,k.y3I)(r,{focused:!0}),(0,k.$Rk)(r)},0)}})))},eM="rich_embed_card",eU="rich_embed_inline";function eW(e,t){if(!(t=null!=t?t:e.selection))return null;let n=(0,k.DYv)(e,{at:t,match:{type:k.uJg}});if(n)return{appearance:i.LINK,url:n[0].url,embedData:n[0].embedData,path:n[1],element:n[0]};let r=(0,k.DYv)(e,{at:t,match:{type:[eU,eM]}});if(r){var l;return{appearance:r[0].type===eU?i.INLINE:i.CARD,url:null!==(l=r[0].url)&&void 0!==l?l:"",embedData:r[0].embedData,path:r[1],element:r[0]}}return null}(r=i||(i={})).LINK="link",r.INLINE="inline",r.CARD="card";var eH=n(21830),eZ=n(25811);function ez(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eQ=e=>{var{editorId:t}=e,n=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["editorId"]);return(0,D.AJ)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ez(e,t,n[t])})}return e}({onOpenChange:e=>k.owQ.openEditorId(e?t:null)},n))};function eK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eJ=({floatingOptions:e}={})=>{var t,n;let r=er(),l=(0,g.useCallback)(()=>{let e=eW(r);if(e){let{element:t}=e,n=(0,S.rwb)(r,t);if(n)return n.getBoundingClientRect()}return(0,D.D2)()},[r]),o=eQ((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eK(e,t,n[t])})}return e}({},(0,k.dGq)(e)),n=(n={getBoundingClientRect:l,middleware:[(0,k.cvk)(-12)],editorId:r.id},n),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t));return o};function eq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(){var e,t,n,r;let l=el(),o=eW(l),i=(0,g.useRef)(null),a=eJ({floatingOptions:(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eq(e,t,n[t])})}return e}({},P),r=(r={placement:"top"},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n)});return o&&(null===(e=o.element)||void 0===e?void 0:null===(t=e.embedData)||void 0===t?void 0:t.embedType)==="quote"?g.createElement(C,Object.assign({ref:i},a),g.createElement(eH.FG,null,g.createElement(eZ.$,{onClick(){(0,k.r4l)(l,{at:o.path})}},g.createElement(eT.JO,{icon:"data-trash"})))):null}var eG=n(26445),e_=n(72386),eX=n(91004),eY=n(44765),e0=n(30731);function e1(e,t){let n=eW(e),r=n?k.s2K:k.Feq;r(e,[{type:eM,children:[{text:""}],dataSourceType:"file",uploadFile:t}])}function e2(e,t){let n=eW(e),r=n?k.s2K:k.Feq;r(e,[{type:eM,children:[{text:""}],dataSourceType:"image",uploadFile:t}])}function e5(e,t,n){let r=eW(e),l=r?k.s2K:k.Feq;l(e,[{type:n===i.CARD?eM:eU,children:[{text:""}],dataSourceType:"url",url:t}])}function e4(e){let{uploadEnabled:t,className:n,contentRef:r}=e,l=eo((0,k.mxW)()),o=(0,g.useCallback)(function(e){l.selection||((0,k.Ys)(l,{offset:0,path:[0,0]}),(0,k.$Rk)(l)),l.insertText(e),(0,k.$Rk)(l)},[l]);return g.createElement("ul",Object.assign({className:(0,a.cx)((0,_.s)().menuItemsList,n)},r&&{ref:r}),g.createElement(eX.Z,{renderAbove:!0,onInsertEmoji:o,onVisibilityChange(){}}),t&&g.createElement(eY.ZP,{permission:"uploads.add"},g.createElement("li",null,g.createElement(eG.Z,{disabled:!1,type:"image",legacyMode:!1,onUpload(e){e.forEach(e=>{e2(l,e)}),(0,k.$Rk)(l)}}))),g.createElement(e_.Z,{renderAbove:!0,createEmbed(e){e5(l,e,i.CARD),(0,k.$Rk)(l)},createIframe(e,t,n){}}),t&&g.createElement(eY.ZP,{permission:"uploads.add"},g.createElement("li",null,g.createElement(eG.Z,{disabled:!1,type:"file",legacyMode:!1,onUpload(e){e.forEach(e=>{e1(l,e)}),(0,k.$Rk)(l)}}))),g.createElement("li",null,g.createElement(e0.Z,{buttonType:q.q.TEXT,onClick(){l&&(0,k.Mwm)(l,{rowCount:4,colCount:4})}},"Insert Table")))}var e9=n(22021),e3=n(23279),e8=n.n(e3);let e6=g.createContext({syncTextArea:()=>null});function e7(e){let{textArea:t,initialFormat:n,needsHtmlConversion:r}=e,l=(0,g.useMemo)(()=>{if(!r&&(null==n?void 0:n.match(/rich2/i))&&(null==t?void 0:t.value))return function(e){try{return JSON.parse(e)}catch(t){(0,e9.H)(t)}}(t.value)},[]),o=(0,g.useMemo)(()=>{if(r)return null==t?void 0:t.value},[]),i=e8()(e=>{let n=function(e){try{return JSON.stringify(e)}catch(t){(0,e9.H)(t)}}(e);t&&n&&(t.value=n,t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!1})))},1e3/60);return g.createElement(e6.Provider,{value:{syncTextArea:i,initialValue:l,initialHTML:o}},e.children)}let te=e=>{let{insertBreak:t}=e,n=()=>{if(!e.selection)return;let t=(0,k.p64)(e,{});if(!t)return;let{codeBlock:n,codeLine:r}=t,[l,o]=n,[i,a]=r;if(l.children.length<3)return;let c=(0,k.Kd8)(e,e.selection.focus,o);if(!c)return;let s=[o[0],l.children.length-2],u=(0,k.eNq)(e,s),d=(0,k.eNq)(e,a);if(!u.length&&!d.length)return(0,k.r4l)(e,{at:a}),(0,k.r4l)(e,{at:s}),(0,k.QkL)(e,k.JBe,{at:ex.y$.next(o).slice(0,1),select:!0}),!0};return e.insertBreak=()=>{!n()&&t()},e},tt=(0,S.xje)({key:"codeBlockEscape",withOverrides:te}),tn=e=>{let{attributes:t,nodeProps:n,element:r,prefix:l,onClick:o,children:i}=e,a=e.element.url,c=e.element.name;return g.createElement("a",Object.assign({},t,n,{href:a,className:"atMention"}),g.createElement("span",{contentEditable:!1,onClick:(0,S.DSi)(o,r)},l,c),i)};var tr=n(58798),tl=n(50072),to=n(13039),ti=n(99130),ta=n(25531),tc=n(15687),ts=n(75985),tu=n(45893),td=n(19748),tm=n(81612),tp=n(46452),tf=n(9355);function tb(e,t,n){if(!(n=null!=n?n:e.selection))return;let r=eW(e,n);if(r&&r.appearance!==t){if(t===i.CARD){(0,k.r4l)(e,{at:r.path}),(0,k.s2K)(e,[{type:eM,dataSourceType:"url",url:r.url,embedData:r.embedData,children:[{text:""}]}]);return}if(t===i.LINK){(0,k.r4l)(e,{at:r.path}),(0,k.s2K)(e,[{forceBasicLink:!0,type:k.uJg,url:r.url,embedData:r.embedData,children:[{text:r.url}]}],{select:!0});let l=(0,k.DYv)(e,{at:r.path,match:{type:k.uJg}});if(l){let[o,a]=l,c={path:[...a,0],offset:Math.floor(r.url.length/2)};(0,k.Z5U)(e,{anchor:c,focus:c})}return}if(t===i.INLINE){(0,k.r4l)(e,{at:r.path}),(0,k.s2K)(e,[{type:eU,dataSourceType:"url",url:r.url,embedData:r.embedData,children:[{text:""}]}]);return}}}function tg(e,t,n,r,l,o,i){try{var a=e[o](i),c=a.value}catch(s){n(s);return}a.done?t(c):Promise.resolve(c).then(r,l)}function ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ty(e,t,n[t])})}return e}function th(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function tO(e){var t,n,r,l,o;let{attributes:a,children:c,nodeProps:s,element:u,editor:d}=e,m=(0,k.O$c)(d,u),f=(0,eR.vt)();(0,N.eU)({ownPath:m,isSelected:f});let b=()=>{(0,k.r4l)(d,{at:m})},y=(0,N.tm)(),h=(e,t={})=>{(0,k.fLV)(d,th(tv({},u,t),{embedData:null===e?null:tv({},u.embedData,e)}),{at:m})},O=()=>{m&&(ex.YR.select(d,m),(0,k.$Rk)(d))},E=(0,g.useRef)(new tf.Z),[w,j]=(0,g.useState)(!1);function P(){var e;return(P=(e=function*(){j(!0);try{switch(u.dataSourceType){case"file":case"image":let e=yield(0,v.cT)(u.uploadFile,{onUploadProgress:E.current.emit});(0,k.Qds)(d,()=>{h(th(tv({},e),{embedType:u.dataSourceType}),{uploadFile:null,url:e.url,error:void 0})});break;case"url":let t=yield v.ZP.post("/media/scrape",{url:u.url});if((0,k.Qds)(d,()=>{h(t.data,{error:void 0})}),!y)return;"link"!==t.data.embedType&&(tb(d,i.CARD,m),(0,k.$Rk)(d))}}catch(n){h(null,{error:n})}finally{j(!1)}},function(){var t=this,n=arguments;return new Promise(function(r,l){var o=e.apply(t,n);function i(e){tg(o,r,l,i,a,"next",e)}function a(e){tg(o,r,l,i,a,"throw",e)}i(void 0)})})).apply(this,arguments)}let C=z.Px.SUCCESS;C=u.embedData?z.Px.SUCCESS:w?z.Px.LOADING:u.error?z.Px.ERROR:z.Px.PENDING,(0,g.useEffect)(()=>{C===z.Px.PENDING&&!function(){return P.apply(this,arguments)}()});let x=(0,tu.cm)();return g.createElement("span",Object.assign({},a,s),g.createElement("span",{contentEditable:!1,suppressContentEditableWarning:!0,"data-testid":`${e.isInline?"inline-embed":"card-embed"}:${u.url}`,className:(0,p.cx)("embedResponsive",{"embed-isSelected":f})},g.createElement(td.D.Provider,{value:{inEditor:!0,isSelected:f,deleteSelf:b,selectSelf:O,isNewEditor:!0,syncBackEmbedValue:h}},g.createElement(ts.s,{url:null!==(l=u.url)&&void 0!==l?l:""},C===z.Px.LOADING&&g.createElement(tw,Object.assign({},e,{progressEventEmitter:E.current})),C===z.Px.ERROR&&null!=u.error&&g.createElement(tE,Object.assign({},e,{error:u.error,onDelete:b})),C===z.Px.SUCCESS&&u.embedData&&(e.isInline?g.createElement("a",{tabIndex:-1,onClick:e=>e.preventDefault(),href:u.url,className:(0,p.cx)(x.makeRootClass(ta.F.INLINE,!0))},(null===(t=u.embedData)||void 0===t?void 0:t.faviconUrl)&&g.createElement("img",{style:{height:"1em",width:"1em",marginRight:6},src:null===(n=u.embedData)||void 0===n?void 0:n.faviconUrl,role:"decoration",alt:(0,et.t)("Site favicon")}),null!==(o=null===(r=u.embedData)||void 0===r?void 0:r.name)&&void 0!==o?o:u.url):g.createElement(tk,Object.assign({},u.embedData)))))),c)}function tE(e){let{element:t}=e,n=(0,tu.cm)();if("file"===t.dataSourceType){let r=new Date;return g.createElement(tr.Z,{mimeType:t.uploadFile.type,name:t.uploadFile.name,message:e.error.message,deleteAttachment:e.onDelete,dateUploaded:r.toISOString()})}return e.isInline?g.createElement("a",{tabIndex:-1,onClick:e=>e.preventDefault(),href:t.url,className:(0,p.cx)(n.makeRootClass(ta.F.INLINE,!0))},t.url,g.createElement("span",{style:{marginLeft:4,height:16,width:16}},g.createElement(tm.Pz,null))):g.createElement(ti.Y,null,g.createElement(tc.M,{type:"error"},g.createElement(tp.Z,{type:"error",title:e.error.message,stringContents:e.error.message,onCancel:e.onDelete,cancelText:(0,et.t)("Dismiss")})))}function tw(e){let{element:t}=e,n=(0,tu.cm)();switch(t.dataSourceType){case"file":let r=(0,to.p)(t.uploadFile.type),l=new Date;return g.createElement(tl.Z,{type:r,size:t.uploadFile.size,dateUploaded:l.toISOString(),name:t.uploadFile.name,progressEventEmitter:e.progressEventEmitter});case"image":return g.createElement("div",{className:"embedLinkLoader"},g.createElement("div",{className:"embedLoader"},g.createElement("div",{className:"embedLoader-box","aria-label":(0,et.t)("Loading...")},g.createElement("div",{className:"embedLoader-loader"}))));default:return g.createElement("a",{tabIndex:-1,onClick:e=>e.preventDefault(),href:t.url,className:(0,p.cx)("isLoading",n.makeRootClass(ta.F.INLINE,!0))},t.url,g.createElement("span",{style:{marginLeft:4},className:"embedLinkLoader-loader"}))}}function tk(e){let t=(0,s.BB)(e.embedType),n=(0,td.b)();if(!t){let r=`Could not find embed of type '${e.embedType}'`;return g.createElement(ti.Y,null,g.createElement(tc.M,{type:"error"},g.createElement(tp.Z,{type:"error",title:r,stringContents:r,onCancel:n.deleteSelf,cancelText:(0,et.t)("Dismiss")})))}return g.createElement(t,Object.assign({},n,e))}function tj(e){return t=>{if(!e.selection)return;let n=eW(e);if(n)switch(t.key){case"ArrowUp":let r=ex.e6.includes(e.selection,[0,0]);if(!r)return;t.preventDefault(),(0,k.QkL)(e,k.JBe,{at:[0],select:!0});break;case"Enter":t.preventDefault(),t.stopPropagation(),(0,k.QkL)(e,k.JBe,{at:ex.y$.next(n.path),select:!0})}}}var tP=n(71398),tC=n(24324),tx=n(41054);function tS(){var e;let t=er(),n=(0,k.$Qv)(),r=n.updated(),l=(0,g.useRef)(null);(0,g.useEffect)(()=>{l.current&&r&&setTimeout(()=>{var e;null===(e=l.current)||void 0===e||e.focus()},0)},[r]);let o=n.url(),a=n.text(),c=eW(t),{submitForm:s,setFieldValue:u,values:d,errors:m,submitCount:p}=(0,tx.TA)({initialValues:{url:o,text:a},onSubmit:function(){c&&c.appearance!==i.LINK?(k.owQ.hide(),(0,k.fLV)(t,{url:o,embedData:null},{at:null==c?void 0:c.path}),(0,k.$Rk)(t)):(0,k.mjz)(t)},validate({url:e,text:t}){if(b(e),!(0,k.CBv)((0,et.D5)(e)))return{url:(0,L.t)("Link must be valid.")}},validateOnChange:!1}),[f,b]=(0,g.useState)(d.url),y=p>0&&f===d.url;return g.createElement("form",{onSubmit(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s()},onKeyDown(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s())}},g.createElement(tC.Z,{label:(0,L.t)("URL"),inputProps:{inputRef:l,onChange(e){u("url",e.target.value),k.owQ.url((0,et.D5)(e.target.value))},value:d.url},extendErrorMessage:!0,errors:y&&m.url?[{message:m.url}]:void 0}),![i.CARD,i.INLINE].includes(null!==(e=null==c?void 0:c.appearance)&&void 0!==e?e:i.LINK)&&g.createElement(tC.Z,{label:(0,L.t)("Text to Display"),inputProps:{onChange(e){u("text",e.target.value),k.owQ.text(e.target.value)},value:d.text}}),g.createElement("button",{onClick(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),s()},type:"submit",style:{display:"none"}}))}var tD=n(83386),tL=n(85938);let tN=(0,ea.yI)(()=>({menuBar:{maxWidth:350},linkPreviewMenuBarItem:{maxWidth:260,spacing:tL.L.spacing({left:8})},form:{spacing:tL.L.spacing({horizontal:16,vertical:8})},externalIcon:{size:20}}));function tI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tI(e,t,n[t])})}return e}let tR=(0,ea.yI)(()=>{let e=tN(),t=(0,a.iv)({maxWidth:e.menuBar.maxWidth},";label:RichLinkToolbar-classes-menuBar;"),n=(0,a.iv)(tT({maxWidth:e.linkPreviewMenuBarItem.maxWidth},tD.W.padding(e.linkPreviewMenuBarItem.spacing)),";label:RichLinkToolbar-classes-linkPreviewMenuBarItem;"),r=(0,a.iv)({name:"er97qz-RichLinkToolbar-classes-linkPreview",styles:"line-height:2;display:flex;align-items:center;label:RichLinkToolbar-classes-linkPreview;"}),l=(0,a.iv)({width:e.externalIcon.size,height:e.externalIcon.size,flexShrink:0},";label:RichLinkToolbar-classes-linkPreviewIcon;"),o=(0,a.iv)(tT({},tD.W.padding(e.form.spacing)),";label:RichLinkToolbar-classes-linkFormContainer;");return{menuBar:t,linkPreviewMenuBarItem:n,linkPreview:r,linkPreviewIcon:l,linkFormContainer:o}});function tB(e){let t=eW(e);if(!t)return;let{element:n,path:r}=t;if(!n.url)return;let l=(0,k.eNq)(e,r);return k.owQ.url(n.url),k.owQ.newTab(!0),l===n.url&&(l=""),k.owQ.text(l),k.owQ.isEditing(!0),!0}let tA=()=>{let e=(0,S.CET)(),t=(0,k.$Qv)().isOpen(e.id);(0,S.y1X)("escape",t=>{if(k.f5.mode()){if(t.preventDefault(),"edit"===k.f5.mode()&&k.f5.isEditing()){k.owQ.show("edit",e.id),(0,S.$Rk)(e,e.selection);return}(0,S.$Rk)(e,e.selection),setTimeout(()=>{k.owQ.hide()},1)}},{enabled:t,enableOnTags:["INPUT"],enableOnContentEditable:!0},[])};function t$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){t$(e,t,n[t])})}return e}function tM(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let tU=({floatingOptions:e}={})=>{let t=er(),n=(0,S.nCz)().keyEditor(),r=(0,k.$Qv)().mode(),l=(0,k.$Qv)().isOpen(t.id),{triggerFloatingLinkHotkeys:o}=(0,S.lMF)(t,k.uJg),a=(0,g.useCallback)(()=>{let e=eW(t);if(e){let{element:n,path:r}=e;switch(n.type){case k.uJg:return(0,D.Kh)(t,{anchor:(0,S.plg)(t,r),focus:(0,S.ZJ1)(t,r)});case eU:case eM:let l=(0,S.rwb)(t,n);if(l)return l.getBoundingClientRect()}}return(0,D.D2)()},[t]),c=l&&"edit"===r,s=eQ(tM(tF({},(0,k.dGq)({open:c},e)),{getBoundingClientRect:a,editorId:t.id})),{update:u}=s;return(0,g.useEffect)(()=>{var e,n;let r=eW(t);if(t.selection&&(0,S.zbr)(t.selection)&&r&&(null===(e=r.embedData)||void 0===e?void 0:e.embedType)!=="image"&&(null===(n=r.embedData)||void 0===n?void 0:n.embedType)!=="file"&&!(r.element.error&&r.appearance===i.CARD)){k.owQ.show("edit",t.id),u();return}"edit"===k.f5.mode()&&k.owQ.hide()},[t,t.selection,n,u]),(0,S.y1X)(o,e=>{"edit"===k.f5.mode()&&tB(t)&&e.preventDefault()},{enableOnContentEditable:!0},[]),tA(),tM(tF({},s),{open:c})};function tW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tW(e,t,n[t])})}return e}function tZ(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let tz=({floatingOptions:e}={})=>{let t=(0,S.CET)(),n=(0,eR.UE)(),r=(0,k.$Qv)().mode(),l=(0,k.$Qv)().isOpen(t.id);(0,g.useEffect)(()=>{let e=e=>{"k"===e.key&&(e.metaKey||e.ctrlKey)&&(0,k.xgM)(t,{focused:n})&&e.preventDefault()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n]);let o=(0,S.t$X)(()=>{"insert"===k.f5.mode()&&(k.owQ.hide(),(0,S.$Rk)(t,t.selection))},{disabled:!l}),i=l&&"insert"===r,a=eQ(tZ(tH({},(0,k.dGq)({whileElementsMounted(){}},e)),{getBoundingClientRect:D.x1,open:i,editorId:t.id})),{update:c,style:s,floating:u}=a;return(0,g.useEffect)(()=>{l?(c(),k.owQ.updated(!0)):k.owQ.updated(!1)},[l,c]),tA(),tZ(tH({},a),{floating:(0,S.AyJ)(u,o),open:i})};var tQ=n(54784);function tK(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tK(e,t,n[t])})}return e}function tq(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let tV=function(e){var t;let n=(0,g.useRef)(null),{editorRef:r}=W(),l=tz({floatingOptions:tq(tJ({},P),{middleware:[(0,k.uYj)({boundary:r.current,padding:14}),...null!==(t=P.middleware)&&void 0!==t?t:[],(0,k.x7s)({element:n})]})});return l.open?g.createElement(C,Object.assign({ref:n},l),e.children):null},tG=function(e){var t;let n=(0,g.useRef)(null),{editorRef:r}=W(),l=tU({floatingOptions:tq(tJ({},P),{middleware:[(0,k.uYj)({boundary:r.current,padding:14}),...null!==(t=P.middleware)&&void 0!==t?t:[],(0,k.x7s)({element:n})]})});return l.open?g.createElement(C,Object.assign({ref:n},l),e.children):null},t_=(0,S.xje)({key:"rich_embed",withOverrides:function(e){let{insertData:t}=e;return e.insertData=n=>{let{files:r}=n;if(r&&r.length>0)for(let l of r)(0,e9.eA)(l)?e2(e,l):e1(e,l);else t(n)},e},plugins:[{key:eM,isElement:!0,isVoid:!0,component:tO,handlers:{onKeyDown:tj}},{key:eU,isElement:!0,isInline:!0,isVoid:!0,component:(0,S.vl2)(tO,{isInline:!0}),handlers:{onKeyDown:tj}}],renderAfterEditable:function(){var e,t,n,r;let l=(0,tQ.$Q)().isEditing(),{editorRef:o}=W(),c=el(),s=eW(c);if((null==s?void 0:null===(e=s.element)||void 0===e?void 0:null===(t=e.embedData)||void 0===t?void 0:t.embedType)==="quote")return null;let u=null==s?void 0:null===(n=s.element)||void 0===n?void 0:n.url,p=tR(),f=(0,Z.IJ)(),b=g.createElement("div",{className:(0,a.cx)(f.likeDropDownContent,p.linkFormContainer,(0,a.iv)({maxWidth:null===(r=o.current)||void 0===r?void 0:r.clientWidth},";label:RichLinkToolbar-className;"))},g.createElement(tS,null)),y=l?b:g.createElement(G.j,{className:p.menuBar,"data-testid":"rich-link-menu"},g.createElement(X.o,{active:(null==s?void 0:s.appearance)===i.LINK,accessibleLabel:"Display as URL",icon:g.createElement(eT.JO,{icon:"editor-link-text"}),onActivate(){tb(c,i.LINK),(0,k.$Rk)(c)}}),g.createElement(X.o,{active:(null==s?void 0:s.appearance)===i.INLINE,accessibleLabel:"Display as Rich Link",icon:g.createElement(eT.JO,{icon:"editor-link-rich"}),onActivate(){tb(c,i.INLINE),(0,k.$Rk)(c)}}),g.createElement(X.o,{active:(null==s?void 0:s.appearance)===i.CARD,accessibleLabel:"Display as Card",icon:g.createElement(eT.JO,{icon:"editor-link-card"}),onActivate(){tb(c,i.CARD),(0,k.$Rk)(c)}}),g.createElement("span",{role:"separator",style:{display:"block",height:16,width:1,background:d.w.colorOut((0,m.OF)().border.color),marginLeft:4,marginRight:8}}),null!=u&&g.createElement(X.o,{className:p.linkPreviewMenuBarItem,accessibleLabel:null!=u?u:"",onActivate:()=>window.open(u,"_blank"),textContent:g.createElement("a",{className:p.linkPreview,href:u,target:"_blank",title:u,"aria-label":u,tabIndex:-1},g.createElement(tP.Z,{lines:1},u.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")),g.createElement(eT.JO,{icon:"meta-external",className:p.linkPreviewIcon}))}),g.createElement(X.o,{disabled:!u,accessibleLabel:(0,L.t)("Edit Link"),icon:g.createElement(eT.JO,{icon:"data-pencil"}),onActivate:()=>tB(c)}),g.createElement(X.o,{accessibleLabel:(0,L.t)("Remove Link"),icon:g.createElement(eT.JO,{icon:"editor-unlink"}),onActivate(){!function(e,t){let n=eW(e,void 0);if(!n)return;(0,k.r4l)(e,{at:n.path});let r=n.url;n.url&&(0,k.OmN)(e,r||n.url)}(c),(0,k.$Rk)(c,c.selection)}}));return g.createElement(g.Fragment,null,g.createElement(tV,null,b),g.createElement(tG,null,y))}});var tX=n(90562);let tY=e=>{let{attributes:t,children:n,nodeProps:r,element:l,onClick:o}=e;return g.createElement("span",Object.assign({},t,{onClick:(0,k.DSi)(o,l)},r),l.trigger,n)};function t0(e){let{attributes:t,children:n,nodeProps:r,element:l,editor:o}=e,{forceBasicLink:a}=l,c=(0,k.qcw)(l),{url:s}=l,u=(0,k.O$c)(o,l);return(0,g.useEffect)(()=>{!a&&c===s&&(tb(o,i.INLINE,u),(0,k.$Rk)(o))},[s,a,o,u,c]),g.createElement("a",Object.assign({},t,r,{href:s}),n)}n(99945);let t1=({attributes:e,children:t,leaf:n})=>g.createElement("span",Object.assign({},e),g.createElement("span",{className:`prism-token token ${n.tokenType}`},t)),t2=e=>{let t=(0,tX.pn)(),{attributes:n,children:r,nodeProps:l,element:o,editor:i}=e,{lang:a}=o,c=Array.from(ex.NB.texts(o,{})).map(e=>e[0].text).join("\n"),s=(0,g.useCallback)(e8()((e,t,n)=>{let r=e.highlightAuto(n).language;if(!r)return;let l=(0,k.O$c)(t,o);l&&(0,k.fLV)(t,{lang:r},{at:l})},1e3),[]);return(0,g.useEffect)(()=>{"string"==typeof c&&!(c.length<10)&&t&&s(t,i,c)},[t,i,s,c]),g.createElement("pre",Object.assign({},n,l,{className:"code codeBlock"}),g.createElement("code",{className:`${a} language-${a}`},r))},t5=e=>{let{attributes:t,children:n,nodeProps:r}=e;return g.createElement("div",Object.assign({},t,r,{className:"tableWrapper"}),g.createElement("table",null,g.createElement("tbody",null,n)))},t4=e=>{let{attributes:t,children:n,nodeProps:r}=e;return g.createElement("div",Object.assign({},t,r,{className:"spoiler isShowingSpoiler"}),g.createElement("div",{className:"spoiler-buttonContainer",contentEditable:!1},g.createElement("button",{className:"iconButton button-spoiler",disabled:!0},g.createElement("span",{className:"spoiler-warning"},g.createElement("span",{className:"spoiler-warningMain"},g.createElement(eT.JO,{icon:"editor-eye-slash",className:"spoiler-icon"}),g.createElement("span",{className:"spoiler-warningLabel"},(0,L.t)("Spoiler Warning")))))),n)},t9=e=>{let{attributes:t,children:n,nodeProps:r,className:l}=e,o=e.as;return g.createElement(o,Object.assign({},t,r,{className:l}),n)},t3=e=>(0,k.See)(e),t8=(e,t)=>{if(e.selection){let n=(0,k.Ow4)(e,e.selection);if(!n)return;let[r]=n;!(0,k.kKo)(r)||(0,k.P99)(e,r,k.sTz)||(0,k.P99)(e,r,k.Zvw)||t()}},t6=(e,t)=>{t8(e,()=>(0,k.kQP)(e,{type:t}))},t7=[{mode:"block",type:k.GDC,match:"# ",preFormat:t3},{mode:"block",type:k.oGK,match:"## ",preFormat:t3},{mode:"block",type:k.o3Y,match:"### ",preFormat:t3},{mode:"block",type:k.jB_,match:"#### ",preFormat:t3},{mode:"block",type:k.$H6,match:"##### ",preFormat:t3},{mode:"block",type:k.KWL,match:"###### ",preFormat:t3},{mode:"block",type:k.ahg,match:"> ",preFormat:t3},{mode:"block",type:k.sTz,match:"```",triggerAtBlockStart:!0,preFormat:t3,format(e){(0,k.WP4)(e,{defaultType:(0,k.bbC)(e,k.mnA),insertNodesOptions:{select:!0}})}},{mode:"block",type:k.cIJ,match:["---","—-","___ "],format(e){(0,k.fLV)(e,{type:k.cIJ}),(0,k.s2K)(e,{type:k.mnA,children:[{text:""}]})}}],ne=[{mode:"block",type:k.f86,match:["* ","- "],preFormat:t3,format:e=>t6(e,k.HtX)},{mode:"block",type:k.f86,match:["1. ","1) "],preFormat:t3,format:e=>t6(e,k.kN6)},{mode:"block",type:k.oGR,match:"[] "},{mode:"block",type:k.oGR,match:"[x] ",format:e=>(0,k.fLV)(e,{type:k.oGR,checked:!0},{match:t=>(0,k.Lqh)(e,t)})}],nt=[{mode:"mark",type:[k.Qpp,k.mZ5],match:"***"},{mode:"mark",type:[k.ShV,k.mZ5],match:"__*"},{mode:"mark",type:[k.ShV,k.Qpp],match:"__**"},{mode:"mark",type:[k.ShV,k.Qpp,k.mZ5],match:"___***"},{mode:"mark",type:k.Qpp,match:"**"},{mode:"mark",type:k.ShV,match:"__"},{mode:"mark",type:k.mZ5,match:"*"},{mode:"mark",type:k.mZ5,match:"_"},{mode:"mark",type:k.Vjd,match:"~~"},{mode:"mark",type:k.Wph,match:"^"},{mode:"mark",type:k.GXJ,match:"~"},{mode:"mark",type:k.KpV,match:"=="},{mode:"mark",type:k.KpV,match:"≡"},{mode:"mark",type:k.QMB,match:"`"}],nn=[...t7,...ne,...nt,...k.hiS,...k.IeX,...k.ezq,...k.w6n,...k.cDC,...k.oF2],nr={indent:{inject:{props:{validTypes:[k.GDC,k.oGK,k.o3Y,k.jB_,k.$H6,k.KWL,k.sTz]}}},resetBlockType:{options:{rules:[{types:[k.oGR],defaultType:k.JBe,hotkey:"enter",predicate:k.ptC},{types:[k.oGR],defaultType:k.JBe,hotkey:"backspace",predicate:k._YE}]}},trailingBlock:{type:k.JBe},exitBreak:{options:{rules:[{hotkey:"mod+enter"},{hotkey:"mod+shift+enter",before:!0},{hotkey:"enter",query:{start:!0,end:!0,allow:k.Nlc}}]}},softBreak:{options:{rules:[{hotkey:"shift+enter"},{hotkey:"enter",query:{allow:[k.L7X]}}]}},selectOnBackspace:{options:{query:{allow:[k.IVr,k.cIJ]}}},autoformat:{options:{rules:nn}}};function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let no=(l=[(0,k.ZZF)(),ey(),eP(),(0,k.DRt)(),(0,k.Tvz)({}),(0,k.V8Y)({},{[k.HtX]:{options:{validLiChildrenTypes:[eM]}},[k.kN6]:{options:{validLiChildrenTypes:[eM]}}}),(0,k.SNQ)(),t_(),(0,k._8X)({options:{syntax:!0,syntaxPopularFirst:!0}}),tt(),(0,k.pJg)(),(0,k.sWz)(),(0,k.Td$)(),(0,k.wFy)(),(0,k.Hon)(),(0,k.wQW)(nr.autoformat),(0,k.gH_)(nr.resetBlockType),(0,k.kjx)(nr.softBreak),(0,k.z$X)(nr.exitBreak),(0,k.AFf)(nr.trailingBlock),(0,k.cB2)(nr.selectOnBackspace),(0,k.kQL)(),(0,k.MoH)({key:"@",component:tn,props:e=>({prefix:e.element.type}),options:{insertSpaceAfterMention:!0,createMentionNode(e){var t,n;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nl(e,t,n[t])})}return e}({},e.data),n=n={value:""},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}}}),(0,k.vsV)(),(0,k.Af)(),(0,k.SnU)()],o={components:(()=>{let e={[k.ahg]:(0,S.vl2)(t9,{as:"blockquote",className:"blockquote"}),[eg]:(0,S.vl2)(t9,{as:"p",className:"blockquote-content"}),[k.sTz]:t2,[k.Zvw]:(0,S.vl2)(t9,{as:"div"}),[k.cvb]:t1,[k.GDC]:(0,S.vl2)(t9,{as:"h1"}),[k.oGK]:(0,S.vl2)(t9,{as:"h2"}),[k.o3Y]:(0,S.vl2)(t9,{as:"h3"}),[k.jB_]:(0,S.vl2)(t9,{as:"h4"}),[k.$H6]:(0,S.vl2)(t9,{as:"h5"}),[k.KWL]:(0,S.vl2)(t9,{as:"h6"}),[k.IVr]:(0,S.vl2)(t9,{as:"img"}),[k.f86]:(0,S.vl2)(t9,{as:"li"}),[k.wl8]:(0,S.vl2)(t9,{as:"span",className:"listItemChild"}),[k.uJg]:t0,[k.HtX]:(0,S.vl2)(t9,{as:"ul"}),[k.kN6]:(0,S.vl2)(t9,{as:"ol"}),[k.JBe]:(0,S.vl2)(t9,{as:"p"}),[ew]:t4,[ej]:(0,S.vl2)(t9,{as:"div",className:"spoiler-content"}),[ek]:(0,S.vl2)(t9,{as:"p",className:"spoiler-line"}),[k.L7N]:t5,[k.L7X]:(0,S.vl2)(t9,{as:"td"}),[k.Vxd]:(0,S.vl2)(t9,{as:"th"}),[k.RtH]:(0,S.vl2)(t9,{as:"tr"}),[k.Qpp]:(0,S.vl2)(t9,{as:"strong"}),[k.QMB]:(0,S.vl2)(t9,{as:"code",className:"code codeInline"}),[k.mZ5]:(0,S.vl2)(t9,{as:"em"}),[k.Vjd]:(0,S.vl2)(t9,{as:"s"}),[k.ShV]:(0,S.vl2)(t9,{as:"u"}),[k.mJB]:tY};return e})()},(0,k.ZUk)(l,o));var ni=n(66309),na=n(7837);function nc(e){let{legacyTextArea:t,initialFormat:n,needsHtmlConversion:r}=e,l=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["legacyTextArea","initialFormat","needsHtmlConversion"]);return g.createElement(e7,{initialFormat:n,needsHtmlConversion:r,textArea:t},g.createElement(ns,Object.assign({},l)))}function ns(e){let{uploadEnabled:t=!0}=e,{syncTextArea:n,initialValue:r,initialHTML:l}=(0,g.useContext)(e6),[o,a]=(0,g.useState)(!1),u=(0,na.ZP)(),d=(0,g.useRef)(null);(0,g.useEffect)(()=>{(0,s.Xs)()});let m=(0,g.useMemo)(()=>{var t;return null!==(t=e.editor)&&void 0!==t?t:ei({plugins:no,editor:void 0})},[e.editor]);return(0,g.useEffect)(()=>{let e=(0,k.plg)(m,[0]);(0,k.Ys)(m,e)},[m]),(0,g.useEffect)(()=>{let e=(e,t)=>{if(e.preventDefault(),!m)return;let n=t.getAttribute("data-scrape-url")||"";e5(m,n,i.CARD),d.current&&window.scrollTo({top:d.current.getBoundingClientRect().y+window.scrollY-130,behavior:"smooth"});let r=(0,k.wbn)(m,1);if(!r)return;let l=ex.y$.next(r[1]);(0,k.QkL)(m,k.JBe,{at:l,select:!0}),(0,k.$Rk)(m)},t=(0,ni.x$)("click",".js-quoteButton",e);return()=>{(0,ni._1)(t)}},[m]),(0,g.useEffect)(()=>{if(!l)return;a(!0);let e=new DataTransfer;e.setData("text/html",l),m.insertData(e)},[m,l]),g.createElement(F.zt,{store:u},g.createElement("div",{id:"vanilla-editor-root",ref:d},g.createElement(k.VUR,{editor:m,id:"editor",onChange:n,initialValue:r},g.createElement(y,{showConversionNotice:o}),g.createElement(U,null,g.createElement(nd,null,g.createElement(k.hv7,{id:"editor",editor:m,editableProps:{spellCheck:!1,autoFocus:!1,placeholder:"Type…",scrollSelectionIntoView:()=>void 0,className:(0,p.cx)((0,c.s)().root,ec().root)}},g.createElement(eF,null),g.createElement(K,{pluginKey:"@"}),g.createElement(nu,null),g.createElement(eV,null)),g.createElement(eD,null),g.createElement(e4,{uploadEnabled:t}))))))}function nu(){let e=(0,k.sZ5)();return g.createElement("span",{onClick(t){t.preventDefault();let n=(0,k.wbn)(e,0);if(!n)return;let r=ex.y$.next(n[1]);(0,k.QkL)(e,k.JBe,{at:r,select:!0}),(0,k.$Rk)(e)},style:{flex:"1 0 auto"},id:"editor-spacer"})}function nd(e){let t=W(),n=(0,m.OF)(),r=(0,u._e)(),l=(0,a.iv)({display:"flex",flexDirection:"column",minHeight:200,borderRadius:r.border.radius,boxShadow:`0 0 0 1px ${d.w.colorOut(t.isFocusWithinEditor?n.mainColors.primary:r.border.color)}`},";label:VanillaEditor-baseStyles;");return g.createElement("div",{className:(0,p.cx)(l,e.className)},e.children)}},58389(e,t,n){n.d(t,{Z:()=>g});var r=n(67294),l=n(81612),o=n(75994),i=n(28236),a=n(11590),c=n(23410),s=n(85819),u=n(19927);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=(0,i.yI)(()=>{var e,t;let n=(0,o.OF)(),r=(0,u.Z)(),l=(0,a.iv)({backgroundColor:r.colors.bg,fontSize:r.sizing.height,lineHeight:1,width:"1em",borderRadius:"1em",minHeight:"1em",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px 0px 0px 2px ${c.w.colorOut(n.mainColors.bg)}`},";label:VoteCounter-styles-root;"),i=(0,a.iv)({fontSize:"0.35em",fontWeight:n.fonts.weights.semiBold,"&:first-child":{lineHeight:1.43,marginBottom:(0,s.aQ)(-20)},"&:nth-child(2)":{lineHeight:.72}},";label:VoteCounter-styles-count;"),m={stroke:c.w.colorOut(n.mainColors.fg),fillOpacity:1},p={fill:m.stroke,fillOpacity:0,stroke:c.w.colorOut(n.mainColors.fg)},f=(0,a.iv)((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},p),t=(t={transition:"all .1s linear",width:"0.625em",height:"0.625em"},t),Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e),";label:VoteCounter-styles-icon;"),b=(0,a.iv)(m,";label:VoteCounter-styles-iconChecked;");return{root:l,count:i,icon:f,iconChecked:b}});var p=n(8728),f=n(52303);let b=({upvoted:e=!1,onToggleUpvoted:t,downvoted:n=!1,onToggleDownvoted:o,score:i=0,className:c})=>{let{root:s,count:u,icon:d,iconChecked:b}=m(),g=r.createElement("span",{className:u},i),y=r.createElement(r.Fragment,null);t&&(y=r.createElement(p.Z,{checked:e,onChange:t,title:(0,f.t)("Upvote")},({disabled:t})=>r.createElement(l.oz,{className:(0,a.cx)(d,{[b]:e&&!t})})));let v=r.createElement(r.Fragment,null);o&&(v=r.createElement(p.Z,{checked:n,onChange:o,title:(0,f.t)("Downvote")},({disabled:e})=>r.createElement(l.Id,{className:(0,a.cx)(d,{[b]:n&&!e})})));let h=r.createElement(r.Fragment,null,g,y);return o&&(h=r.createElement(r.Fragment,null,y,g,v)),r.createElement("div",{className:(0,a.cx)(s,c)},h)},g=b},19927(e,t,n){n.d(t,{Z:()=>a});var r=n(75994),l=n(28236),o=n(75864);let i=(0,l.yI)(()=>{let e=(0,r.OF)(),t=(0,o.Cg)("voteCounter"),n=t("colors",{bg:"#e8e8e8",fg:e.mainColors.fg});return{colors:n,sizing:{height:32,width:32,magicOffset:16}}}),a=i}}]);