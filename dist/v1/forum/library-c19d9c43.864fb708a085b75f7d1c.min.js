"use strict";(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[6936],{84407(e,t,n){n.d(t,{Um:()=>c,ZP:()=>k,tv:()=>P});var l,o,r,a,i,s,c,u,d=n(67294),p=n(94184),m=n.n(p),E=n(45265),f=n(92234),b=n(66309),v=n(76329),h=n(92633);(u=a||(a={})).SMALL="small",u.MEDIUM="medium";let O=class extends d.Component{render(){let e=(0,f.IJ)(),t=this.props.openAsModal?void 0:m()("dropDown-contents",e.contents,{isMedium:this.props.size===a.MEDIUM}),n=this.props.openAsModal?m()("dropDown-asModal",e.asModal):void 0;return this.props.openAsModal?this.props.children:d.createElement(h.Yh,null,d.createElement(v.Ce,{depth:3},d.createElement("div",{ref:this.props.contentRef,id:this.props.id,className:m()(t,n,this.props.className,{[e.verticalPadding]:!this.props.selfPadded,[e.contentOffsetCenter]:this.props.renderCenter,[e.contentOffsetLeft]:this.props.horizontalOffset&&this.props.renderLeft,[e.contentOffsetRight]:this.props.horizontalOffset&&!this.props.renderLeft}),style:(0,E.i)(this.props.renderAbove,this.props.renderLeft,!!this.props.legacyMode,this.props.renderCenter),onClick:this.doNothing,tabIndex:-1,onMouseDown:this.forceTryFocus},this.props.children)))}constructor(...e){super(...e),this.forceTryFocus=e=>{e.target instanceof HTMLElement&&b.yE.isTabbable(e.target)},this.doNothing=e=>{e.stopPropagation(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}};var g=n(33188),y=n(79089),C=n(19281),L=n(72588),N=n(77423),A=n(14698),T=n(92593),I=n(38443),w=n(11590),D=n(77039),M=n(25162);function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(l=i||(i={})).ABOVE_LEFT="aboveLeft",l.ABOVE_RIGHT="aboveRight",l.ABOVE_CENTER="aboveCenter",l.BELOW_LEFT="belowLeft",l.BELOW_RIGHT="belowRight",l.BELOW_CENTER="belowCenter",l.AUTO="auto",l.HIDDEN="hidden",(o=s||(s={})).ABOVE_CENTER="aboveCenter",(r=c||(c={})).LIST="list",r.FRAME="frame";let F=d.createContext({isForcedOpen:!1,setIsForcedOpen(){}});function P(){return(0,d.useContext)(F)}function k(e){var t,n,l,o,r,s,u,p;let m=(0,L.Fy)(),{title:E,preferredDirection:b}=e,v=null!==(t=e.mobileTitle)&&void 0!==t?t:E,P=(0,f.IJ)(),k=e.flyoutType===c.FRAME?"div":"ul",B=e.openAsModal||m===L.uv.MOBILE||m===L.uv.XS,V=(0,d.useRef)(null),Z=(0,d.useRef)(null),S=null!==(n=e.buttonRef)&&void 0!==n?n:V,H=null!==(l=e.contentRef)&&void 0!==l?l:Z,j=(0,y.hu)("flyout"),[x,W]=(0,d.useState)(!1),[z,U]=(0,d.useState)(!1),G=null!==(o=e.isVisible)&&void 0!==o?o:b?z:void 0,J=null!==(r=e.onVisibilityChange)&&void 0!==r?r:b?U:void 0,q=(0,h.xE)(S),$=(0,h.xE)(H),K=_({props:e,buttonRect:q,contentRect:$,dropDownID:j}),X=K===i.HIDDEN,Y=[i.ABOVE_LEFT,i.BELOW_LEFT].includes(K),Q=[i.ABOVE_CENTER,i.BELOW_CENTER].includes(K),ee=[i.ABOVE_RIGHT,i.ABOVE_LEFT,i.ABOVE_CENTER].includes(K),et=null!==(s=e.handleID)&&void 0!==s?s:j+"-handle",en=null!==(u=e.contentID)&&void 0!==u?u:j+"-contents",el=e.buttonContents||d.createElement(N.JO,{icon:"navigation-ellipsis"});return d.createElement(C.Z,{id:et,className:(0,w.cx)(e.className),buttonType:null!==(p=e.buttonType)&&void 0!==p?p:g.q.ICON,name:e.name,buttonContents:el,buttonClassName:e.buttonClassName,disabled:e.disabled,buttonRef:S,isVisible:G,forceVisible:x,onVisibilityChange:J,openAsModal:B,modalSize:e.modalSize,initialFocusElement:e.initialFocusElement,tag:e.tag,contentID:en},t=>d.createElement(F.Provider,{value:{isForcedOpen:x,setIsForcedOpen:W}},d.createElement(I.Z,{condition:(!G||X)&&!B&&!!b,className:P.positioning},d.createElement(I.Z,{condition:!!e.asReachPopover&&!B,component:D.ZP,componentProps:{targetRef:S,position(e,t){var n,l,o;let r=Q?(0,M.HW)(e,t):(0,D.g0)(e,t),a=ee&&e&&e.height?(null!==(n=parseFloat(r.top))&&void 0!==n?n:0)-e.height:r.top;return l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){R(e,t,n[t])})}return e}({},r),o=(o={top:a},o),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n.push.apply(n,l)}return n})(Object(o)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))}),l}}},d.createElement(O,Object.assign({},t,{contentRef:H,id:en,className:(0,w.cx)(e.contentsClassName),renderCenter:Q,renderLeft:Y,renderAbove:ee,openAsModal:B,selfPadded:void 0!==e.selfPadded?e.selfPadded:e.flyoutType===c.FRAME,size:e.flyoutType!==c.FRAME||e.isSmall?a.SMALL:a.MEDIUM,horizontalOffset:e.horizontalOffset}),!B&&E&&d.createElement(A.Z,{title:E,closeFrame:t.closeMenuHandler}),B&&v&&d.createElement(T.t,{onClose:t.closeMenuHandler},null!=v?v:E),B&&e.flyoutType===c.FRAME?e.children:d.createElement(k,{className:(0,w.cx)("dropDownItems",P.items)},e.children))))))}let _=e=>{let{props:t,buttonRect:n,contentRect:l}=e,{renderAbove:o,renderLeft:r,preferredDirection:a,openDirection:c}=t;if(a&&(0===l.height||0===l.width))return i.HIDDEN;if(c&&o||c&&r)throw Error("`renderAbove` & `renderLeft` may not be used with `openDirection` in <DropDown />");if(a&&0!==n.width&&0!==l.width&&a===s.ABOVE_CENTER){let u=n.top,d=n.left,p=window.innerWidth-n.right,m=l.width/2,E=l.height;if(o=u>=E,m<=d&&m<=p)return o?i.ABOVE_CENTER:i.BELOW_CENTER}if(t.openDirection!==i.AUTO&&(t.openDirection||o&&r)){if(t.openDirection)return t.openDirection}else{if(!o){let f=document.body.clientHeight,b=(n.top+n.bottom)/2;o=b>f/2}if(!r){let v=document.body.clientWidth,h=(n.left+n.right)/2;r=h>v/2}}return o&&r?i.ABOVE_LEFT:o&&!r?i.ABOVE_RIGHT:!o&&r?i.BELOW_LEFT:(0,i.BELOW_RIGHT)}},76544(e,t,n){n.d(t,{Z:()=>p});var l=n(67294),o=n(51640),r=n(94184),a=n.n(r),i=n(10914),s=n(81612),c=n(47505),u=n(89472),d=n(52303);function p(e){let t=(0,o.W)(),n=(0,c.u)(),{isLoading:r,status:p,onClick:m,label:E}=e,f=p?l.createElement(l.Fragment,null,l.createElement(s.N$,{"aria-hidden":!0}),l.createElement("span",{className:t.visuallyHidden},(0,d.t)("on"))):l.createElement(l.Fragment,null,l.createElement("span",{className:t.visuallyHidden},(0,d.t)("off"))),b=l.createElement(l.Fragment,null,l.createElement("span",{className:n.itemLabel},E),l.createElement("span",{className:a()(n.checkContainer,"sc-only")},r?l.createElement(i.Z,null):f));return l.createElement(u.Z,{onClick:m,role:"switch","aria-checked":p,disabled:e.isLoading},b)}},19281(e,t,n){n.d(t,{Z:()=>f});var l=n(92234),o=n(30731),r=n(62425),a=n(21965),i=n(57298),s=n(67294),c=n(92633),u=n(24821),d=n(11590),p=n(94184),m=n.n(p),E=n(66309);function f(e){var t,n;let{initialFocusElement:p,onVisibilityChange:f,onClose:b,id:v,contentID:h,buttonType:O}=e,g=(0,s.useRef)(null),y=e.buttonRef||g,C=(0,s.useRef)(null),[L,N]=(0,s.useState)(!1),A=!!e.forceVisible||(void 0!==e.isVisible?e.isVisible:L),T=(0,s.useCallback)(e=>{N(e),f&&f(e),e&&window.closeAllFlyouts&&window.closeAllFlyouts()},[N,f]);(0,s.useEffect)(()=>{if(A){if(p)p.focus();else{var e;let t=document.getElementById(h);if(!t)return;let n=new E.yE(t);null===(e=n.getInitial())||void 0===e||e.focus()}}},[A,p,h]);let I=(0,s.useCallback)(e=>{var t;e.stopPropagation(),T(!A),null===(t=e.toElement)||void 0===t||t.focus()},[A,T]);(0,s.useEffect)(()=>{let e=y.current;if(e)return e.addEventListener("click",I),()=>{e.removeEventListener("click",I)}},[y,I]);let w=(0,s.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),b&&b();let{activeElement:t}=document,n=C.current;T(!1),n&&n.contains(t)&&y.current&&(y.current.focus(),y.current.classList.add("focus-visible"))},[b,C,y,T]),D=e=>{"Escape"===e.key&&w(e)},M=(0,s.useCallback)(e=>{e.stopPropagation()},[]),R=(0,s.useCallback)(e=>{e||T(!1)},[T]);(0,c.LJ)(C,R,e.openAsModal),(0,c.lG)({root:C.current,returnElement:y.current,callback:w});let F=(0,l.IJ)(),P=(0,d.cx)(e.buttonClassName,{isOpen:A}),k={id:h,handleID:v,isVisible:!!A,closeMenuHandler:w,renderAbove:e.renderAbove,renderLeft:e.renderLeft},_=e.openAsModal?null:(0,d.cx)("flyouts",F.root),B=null!==(t=e.tag)&&void 0!==t?t:"div",V=!e.disabled&&A;return s.createElement(B,{className:m()(_,e.className,{asModal:e.openAsModal}),ref:C,onClick:M},s.createElement(o.Z,Object.assign({},e.buttonProps,{id:v,className:P,title:e.name,"aria-label":"name"in e?e.name:void 0,"aria-controls":h,"aria-expanded":A,"aria-haspopup":"true",disabled:e.disabled,buttonType:O,buttonRef:y}),e.name&&s.createElement(u.Z,null,e.name),e.buttonContents),s.createElement(s.Fragment,null,e.openAsModal?s.createElement(r.Z,{id:h,label:(0,i.t)("title"),size:null!==(n=e.modalSize)&&void 0!==n?n:a.Z.SMALL,exitHandler:w,elementToFocusOnExit:y.current,isVisible:V,onKeyPress:D},e.children(k)):(V||e.alwaysRender)&&e.children(k)))}},14378(e,t,n){n.d(t,{ZP:()=>y,bu:()=>C,yv:()=>L});var l=n(44765),o=n(37510),r=n(30731),a=n(33188),i=n(37230),s=n(81612),c=n(62425),u=n(21965),d=n(57298),p=n(94184),m=n.n(p),E=n(67294),f=n(24821),b=n(22021),v=n(57810),h=n(49154),O=n(80883);let g=[];function y(e){let[t,n]=(0,E.useState)(e.forceHamburgerOpen||!1),l=(0,o.m)(),i=()=>{n(!1)},p=()=>{n(!t)},{showCloseIcon:b=!0}=e,{dynamicComponents:v}=(0,O.hv)(),y=(0,E.useMemo)(()=>v?E.createElement(E.Fragment,null,Object.values(v).map(({component:e},t)=>E.createElement(E.Fragment,{key:t},e))):E.createElement(E.Fragment,null),[v]);return E.createElement(E.Fragment,null,E.createElement(r.Z,{buttonType:a.q.ICON,className:m()(l.root,e.className),onClick:p},E.createElement(E.Fragment,null,E.createElement(s.Uq,null),E.createElement(f.Z,null,(0,d.t)("Menu")))),E.createElement(c.Z,{scrollable:!0,isVisible:t,size:u.Z.MODAL_AS_SIDE_PANEL_LEFT,exitHandler:i},b&&E.createElement(r.Z,{className:l.closeButton,buttonType:a.q.ICON_COMPACT,onClick(){n(!1)}},E.createElement(f.Z,null,(0,d.t)("Close")),E.createElement(s.dp,null)),E.createElement("div",{className:l.container},E.createElement(N,{onClose:()=>n(!1),navigationItems:e.navigationItems}),E.createElement(h.Z,null),e.extraNavTop,y,e.extraNavBottom,g.map((e,t)=>E.createElement(e,{key:t})))))}function C(e,t="root"){var n;let{permission:o,name:r,url:a,id:i,children:s,isHidden:c,badge:u}=e;if(o&&!(0,l.Fs)(o)||c)return null;let d={name:r,url:a,recordID:i,recordType:"customLink",parentID:t,children:null!==(n=null==s?void 0:s.map(e=>C(e,i)).filter(b.Dw))&&void 0!==n?n:[],sort:0};return u&&(d.badge=u),d}function L(e){let t=null;for(let n of e)window.location.href.includes(n&&n.url?n.url.replace("~",""):"")&&(t=`${n.recordID}`);return{recordID:null!=t?t:"notspecified",recordType:"customLink"}}function N(e){let t=e.navigationItems&&e.navigationItems.length?e.navigationItems:(0,i.r)().navigationItems,[n,l]=(0,E.useMemo)(()=>{let e=t.map(e=>C(e)).filter(b.Dw),n=L(e);return[e,n]},[t]);return E.createElement(v.C,{onClose:e.onClose,navItems:n,title:(0,d.t)("Site Navigation"),isNestable:!0,activeRecord:l})}}}]);