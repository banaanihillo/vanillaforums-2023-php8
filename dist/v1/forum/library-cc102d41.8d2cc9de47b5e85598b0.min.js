"use strict";(self.webpackChunkvanillaforum=self.webpackChunkvanillaforum||[]).push([[8780],{43592(e,n,t){t.d(n,{I:()=>C});var r=t(64415),l=t(72588),a=t(59841),o=t(95684),s=t(7837),i=t(32407),u=t(57298),c=t(67294),d=t(86746),p=t(46458),m=t(52239),b=t(94184),f=t.n(b),v=t(85819),y=t(52303),h=t(5301),I=t(85859),g=t(47313),O=t(32453),x=t(90786),w=t(59609),P=t(11590),M=t(224),j=t(33691),E=t(42744);let k=[];function C(e){var n,t;let b=(0,c.useMemo)(()=>(0,s.ZP)(),[]),C=(0,P.iv)({label:"appContext",width:(0,v.aQ)(100)},";label:AppContext-rootStyle;"),S=(n=[[p.zt,{store:b}],M.W1,y.Iw,E.kI,h.Nd,y.Lv,d.Kd,[o.WI,{scrollWatchingEnabled:!1}],[i.f,{disabled:e.noTheme,errorComponent:c.createElement(g.m,null),themeKey:(0,u.xZ)("ui.themeKey","keystone"),variablesOnly:e.variablesOnly}],a.n5,...k,x.m9,I.G4,O.Lc,w.FI,l.Yk,j.VW,r.o],t=e.children,n.reverse().reduce((e,n)=>{let[t,r]=Array.isArray(n)?[n[0],n[1]]:[n,{}];return c.createElement(t,Object.assign({},r),e)},t));return e.noWrap?S:c.createElement("div",{className:f()("js-appContext",C,(0,m.vi)())},S)}},64611(e,n,t){var r,l;function a(e,n,t,r,l,a,o){try{var s=e[a](o),i=s.value}catch(u){t(u);return}s.done?n(i):Promise.resolve(i).then(r,l)}function o(e){return function(){var n=this,t=arguments;return new Promise(function(r,l){var o=e.apply(n,t);function s(e){a(o,r,l,s,i,"next",e)}function i(e){a(o,r,l,s,i,"throw",e)}s(void 0)})}}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{e:()=>i});class i{request(e){var n=this;return o(function*(){var t,r;let l=yield n.apiClient.request((t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){s(e,n,t[n])})}return e}({},e),r=(r={[u]:!0},r),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t)).catch(n.extractErrResponse);n.reportProgress(l);let a=yield n.handleResponse(l,!0);return a})()}handleResponse(e,n=!1){var t=this;return o(function*(){var r;if(e.config[u]&&!n||!(e.status>=400)||(null===(r=e.data)||void 0===r?void 0:r.callbackPayload)===void 0)return e;{let l=yield t.pollCallbackPayload(e.data.callbackPayload);return l}})()}pollCallbackPayload(e){var n=this;return o(function*(){let t=e,r=null;do{var l,a;t=null!==(a=null==(r=yield n.resumeCallbackPayload(t))?void 0:null===(l=r.data)||void 0===l?void 0:l.callbackPayload)&&void 0!==a?a:null}while(null!==t)return r})()}resumeCallbackPayload(e){var n=this;return o(function*(){let t=yield n.apiClient.post("calls/run",e,{headers:{"content-type":"application/system+jwt"},[u]:!0}).catch(n.extractErrResponse);return n.reportProgress(t),t})()}extractErrResponse(e){return o(function*(){return"response"in e&&e.response&&e.response.config[u]&&void 0!==e.response.data.callbackPayload?e.response:Promise.reject(e)})()}reportProgress(e){if(e.data.progress){var n,t,r,l,a,o;let s=e.data.progress;(null===(n=s.successIDs)||void 0===n?void 0:n.length)>0&&(null===(l=(r=this).successHandler)||void 0===l||l.call(r,s.successIDs)),(null===(t=s.failedIDs)||void 0===t?void 0:t.length)>0&&(null===(o=(a=this).failHandler)||void 0===o||o.call(a,s.failedIDs,s.exceptionsByID))}}onSuccessIDs(e){this.successHandler=e}onFailedIDs(e){this.failHandler=e}constructor(e){this.apiClient=e,this.successHandler=null,this.failHandler=null,this.successMiddleware=this.handleResponse.bind(this);var n,t=this;this.errorMiddleware=(n=o(function*(e){if("response"in e&&e.response){let n=yield t.handleResponse(e.response);if(n!==e.response)return Promise.resolve(n)}return Promise.reject(e)}),function(e){return n.apply(this,arguments)})}}(l=r||(r={})).ASYNC="async",l.SYNC="sync";let u="FROM_LONG_RUNNER"},38041(e,n,t){t.d(n,{s:()=>b});var r=t(11590),l=t(82391),a=t(92111),o=t(23410),s=t(75994),i=t(83386),u=t(10141),c=t(33091),d=t(28236);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){p(e,n,t[n])})}return e}let b=(0,d.yI)(()=>{var e,n;let t=(0,s.OF)(),d=(0,l.tB)(),p=(0,a.Gv)(),b=(0,r.iv)(m({position:"relative",display:"inline-flex",flexDirection:"column",alignItems:"stretch",background:o.w.colorOut(p.colors.bg),color:o.w.colorOut(p.colors.fg)},i.W.border(),(0,u.I2)(void 0,void 0,(0,u.kL)().toolbar())),";label:MenuBar-classes-root;"),f=(0,r.iv)({name:"1ehqb21-MenuBar-classes-menuItemsList",styles:"display:flex;align-items:center;gap:2px;padding:2px;label:MenuBar-classes-menuItemsList;"}),v=(0,r.iv)({name:"12f694h-MenuBar-classes-menuItem",styles:"list-style:none;padding:0;margin:0;&::before{display:none;};label:MenuBar-classes-menuItem;"}),y=d.buttonIconMenuBar,h=(0,r.iv)({name:"1a7rhu5-MenuBar-classes-menuItemTextContent",styles:";label:MenuBar-classes-menuItemTextContent;"}),I=(0,r.iv)({name:"17hjgu2-MenuBar-classes-subMenuContainer",styles:"max-width:100%;label:MenuBar-classes-subMenuContainer;"}),g=(0,r.iv)({overflow:"hidden",paddingBottom:4},";label:MenuBar-classes-subMenuItemsList;"),O=(0,r.iv)({borderTop:(0,c.$N)(),borderBottom:(0,c.$N)(),paddingTop:4,paddingBottom:4,marginTop:4,marginBottom:4,"&:first-child, & + .subMenuGroup":{borderTop:"none",marginTop:0,paddingTop:0},"&:last-child":{borderBottom:"none",marginBottom:0,paddingBottom:0}},";label:MenuBar-classes-subMenuGroup;"),x=(0,r.iv)((e=m({},i.W.padding({vertical:4,horizontal:10})),n=(n={display:"flex",alignItems:"center",cursor:"pointer",lineHeight:t.lineHeights.condensed,"&:disabled, &[aria-disabled='true']":{opacity:.5,cursor:"not-allowed"},"&:not(:disabled):not([aria-disabled='true'])":{"&:hover, &:focus":{background:o.w.colorOut(t.mainColors.primary.fade(.1)),color:o.w.colorOut(t.mainColors.primary)}},"&.active":{color:o.w.colorOut(t.mainColors.primary)},"&&.focus-visible, &:focus-visible":{outline:"none",boxShadow:`inset 0 0 0 1px ${t.mainColors.primary}`}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e),";label:MenuBar-classes-subMenuItem;"),w=(0,r.iv)({marginLeft:-4,marginRight:4},";label:MenuBar-classes-subMenuItemIcon;"),P=(0,r.iv)({paddingTop:4,paddingBottom:4},";label:MenuBar-classes-subMenuItemText;");return{root:b,menuItemsList:f,menuItem:v,menuItemIconContent:y,menuItemTextContent:h,subMenuContainer:I,subMenuItemsList:g,subMenuGroup:O,subMenuItem:x,subMenuItemIcon:w,subMenuItemText:P}})},1514(e,n,t){t.d(n,{j:()=>u});var r=t(38041),l=t(99938),a=t(1389),o=t(34098),s=t(92633),i=t(67294);let u=i.forwardRef(function(e,n){let{className:t,children:u}=e,c=function(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}(e,["className","children"]),d=(0,r.s)(),p=(0,i.useRef)(null),m=(0,i.useRef)(null);(0,i.useImperativeHandle)(n,()=>m.current);let b=(0,i.useRef)(null),f=(0,s.xE)(b);return(0,s.LJ)(p,e=>{if(!e){var n;null===(n=m.current)||void 0===n||n.setSubMenuOpen(!1)}}),i.createElement(a.sz,null,i.createElement("div",Object.assign({},c,{ref:p,className:(0,o.cx)(d.root,t)}),i.createElement("div",{ref:b,className:d.menuItemsList,role:"menubar"},i.createElement(l.DH,{ref:m,initialItemIndex:0},e.children)),i.createElement("div",{style:{width:f.width},className:d.subMenuContainer},i.createElement(a.IJ,null))))})},99938(e,n,t){t.d(n,{DH:()=>i,I_:()=>u,gP:()=>s});var r=t(42682),l=t(92878),a=t(67294);let o=a.createContext({});function s(){return(0,a.useContext)(o)}let i=a.forwardRef(function(e,n){var t;let s=null===(t=e.isSelected)||void 0===t||t,{itemChildren:i,itemRefs:u,countItemChildren:c,itemDisabledValues:d}=function(e){let n=(0,a.useRef)([]),t=0,o=[],s=0,i=e=>a.Children.map(e,e=>{if(!e)return null;switch(e.type){case r.o:case l.U:var u;let c=s;return t++,s++,o[c]=null!==(u=e.props.disabled)&&void 0!==u&&u,a.cloneElement(e,{itemIndex:c,itemRef(e){n.current[c]=e}});default:if(e.props.children)return a.cloneElement(e,{children:i(e.props.children)});return e}}),u=i(e);return{itemRefs:n,itemChildren:u,countItemChildren:t,itemDisabledValues:o}}(e.children),[p,m]=(0,a.useState)(e.initialItemIndex),b=e=>{if(m(e),null!==e){var n;null===(n=u.current[e])||void 0===n||n.focus()}},[f,v]=(0,a.useState)(!1),y=c-1,h=d.filter(e=>!e).length>0,I=e=>{var n;return!(null!==(n=d[e])&&void 0!==n&&n)},g=(e=null!=p?p:0)=>{let n=e+1;n>y&&(n=0),!I(n)&&h?g(n):b(n)},O=(e=null!=p?p:0)=>{let n=e-1;n<0&&(n=y),!I(n)&&h?O(n):b(n)},x=()=>{var e;null!==p&&(null===(e=u.current[p])||void 0===e||e.focusSubMenu())},w={currentItemIndex:s?p:null,setCurrentItemIndex:b,incrementItemIndex:g,decrementItemIndex:O,setSubMenuOpen:v,isSubMenuOpen:f,focusActiveSubMenu:x};return(0,a.useImperativeHandle)(n,()=>w),a.createElement(o.Provider,{value:w},i)});function u(e,n){var t,r;let l=s(),o=null!==l.currentItemIndex&&e.itemIndex===l.currentItemIndex,i=a.useRef(null),u=!!n,c=u&&o&&l.isSubMenuOpen;return(0,a.useImperativeHandle)(e.itemRef,()=>({isDisabled:null!==(t=e.disabled)&&void 0!==t&&t,itemIndex:null!==(r=e.itemIndex)&&void 0!==r?r:0,focus(){var e;null===(e=i.current)||void 0===e||e.focus()},focusSubMenu(){var e;null==n||null===(e=n.current)||void 0===e||e.setCurrentItemIndex(0)}})),{isSelected:o,contextProps:{ref:i,tabIndex:o&&!(u&&c)?0:-1,"aria-disabled":e.disabled}}}},42682(e,n,t){t.d(n,{o:()=>u});var r=t(11590),l=t(38041),a=t(99938),o=t(1389),s=t(79089),i=t(67294);let u=function(e){let n=(0,a.gP)(),{isSubMenuOpen:t}=n,u=(0,o.mn)(),c=(0,i.useRef)(null),{isSelected:d,contextProps:p}=(0,a.I_)(e,c),m=!!e.children,b=(0,l.s)(),f=(0,s.hu)("submenu"),v=r=>{var l,a;r.preventDefault(),r.stopPropagation(),r.nativeEvent.stopImmediatePropagation(),n.setCurrentItemIndex(null!==(a=e.itemIndex)&&void 0!==a?a:null),m&&(d&&t?n.setSubMenuOpen(!1):n.setSubMenuOpen(!0)),null===(l=e.onActivate)||void 0===l||l.call(e,r)};return i.createElement("div",{className:(0,r.cx)(b.menuItem,e.className),onKeyDown(e){switch(e.key){case"ArrowRight":n.incrementItemIndex();break;case"ArrowDown":m?t?n.focusActiveSubMenu():n.setSubMenuOpen(!0):n.incrementItemIndex();break;case"ArrowLeft":n.decrementItemIndex();break;case"ArrowUp":if(m){if(t){var r;n.setSubMenuOpen(!1),null===(r=p.ref.current)||void 0===r||r.focus()}}else n.decrementItemIndex();break;case"Escape":if(!m||!t)return;n.setSubMenuOpen(!1),n.setCurrentItemIndex(n.currentItemIndex);break;default:return}e.stopPropagation(),e.preventDefault()}},i.createElement("span",null,i.createElement("span",Object.assign({},p,{className:(0,r.cx)("icon"in e?b.menuItemIconContent:b.menuItemTextContent,{active:e.active}),title:e.accessibleLabel,"aria-label":e.accessibleLabel,role:"menuitem","aria-owns":m?f:void 0,"aria-haspopup":m,"aria-expanded":m&&t,onKeyDown(e){(" "===e.key||"Enter"===e.key)&&v(e)},onClick(e){v(e)}}),"icon"in e?e.icon:e.textContent)),d&&t&&null!=e.children&&u.renderSubMenu(i.createElement("div",{id:f,role:"menu",className:b.subMenuItemsList},i.createElement(a.DH,{initialItemIndex:null,isSelected:d,ref:c},e.children))))}},1389(e,n,t){t.d(n,{IJ:()=>i,mn:()=>o,sz:()=>s});var r=t(67294),l=t(73935);let a=r.createContext({ref:{current:null},renderSubMenu:e=>e});function o(){return(0,r.useContext)(a)}function s(e){let n=(0,r.useRef)(null);return r.createElement(a.Provider,{value:{ref:n,renderSubMenu(e){if(n.current)return l.createPortal(e,n.current)}}},e.children)}function i(){let{ref:e}=o();return r.createElement("div",{ref:e})}},92878(e,n,t){t.d(n,{U:()=>s});var r=t(11590),l=t(38041),a=t(99938),o=t(67294);function s(e){let{contextProps:n}=(0,a.I_)(e),t=(0,l.s)(),s=(0,a.gP)(),i=n=>{var t;n.preventDefault(),n.stopPropagation(),null===(t=e.onActivate)||void 0===t||t.call(e)};return o.createElement("div",Object.assign({role:"none",title:"string"==typeof e.children?e.children:void 0},n,{className:(0,r.cx)(t.subMenuItem,"subMenuItem",{active:e.active}),onKeyDown(e){switch(e.key){case"ArrowDown":s.incrementItemIndex();break;case"ArrowUp":s.decrementItemIndex();break;case" ":case"Enter":i(e);break;default:return}e.stopPropagation(),e.preventDefault()},onClick:i}),e.icon&&o.createElement("span",{"aria-hidden":!0,className:t.subMenuItemIcon},e.icon),o.createElement("span",{className:t.subMenuItemText},e.children))}},49294(e,n,t){t.d(n,{d:()=>o});var r=t(38041),l=t(34098),a=t(67294);function o(e){let n=(0,r.s)();return a.createElement("div",{tabIndex:-1,role:"none",className:(0,l.cx)(n.subMenuGroup,"subMenuGroup")},a.createElement("div",{role:"group"},e.children))}}}]);