"use strict";(self.webpackChunkvanillalayouts=self.webpackChunkvanillalayouts||[]).push([[6936],{61857(e,t,n){n.d(t,{Um:()=>c,ZP:()=>Z,tv:()=>S});var l,o,r,a,i,s,c,u,d=n(67294),p=n(94184),m=n.n(p),E=n(45265),f=n(92234),b=n(66309),v=n(76329),h=n(39607);(u=a||(a={})).SMALL="small",u.MEDIUM="medium";let O=class extends d.Component{render(){let e=(0,f.IJ)(),t=this.props.openAsModal?void 0:m()("dropDown-contents",e.contents,{isMedium:this.props.size===a.MEDIUM}),n=this.props.openAsModal?m()("dropDown-asModal",e.asModal):void 0;return this.props.openAsModal?this.props.children:d.createElement(h.Yh,null,d.createElement(v.Ce,{depth:3},d.createElement("div",{ref:this.props.contentRef,id:this.props.id,className:m()(t,n,this.props.className,{[e.verticalPadding]:!this.props.selfPadded,[e.contentOffsetCenter]:this.props.renderCenter,[e.contentOffsetLeft]:this.props.horizontalOffset&&this.props.renderLeft,[e.contentOffsetRight]:this.props.horizontalOffset&&!this.props.renderLeft}),style:(0,E.i)(this.props.renderAbove,this.props.renderLeft,!!this.props.legacyMode,this.props.renderCenter),onClick:this.doNothing,tabIndex:-1,onMouseDown:this.forceTryFocus},this.props.children)))}constructor(...e){super(...e),this.forceTryFocus=e=>{e.target instanceof HTMLElement&&b.yE.isTabbable(e.target)},this.doNothing=e=>{e.stopPropagation(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}};var g=n(33188),y=n(79089),C=n(30731),L=n(62425),N=n(21965),A=n(57298),T=n(24821),I=n(11590);function w(e){var t,n;let{initialFocusElement:l,onVisibilityChange:o,onClose:r,id:a,contentID:i,buttonType:s}=e,c=(0,d.useRef)(null),u=e.buttonRef||c,p=(0,d.useRef)(null),[E,v]=(0,d.useState)(!1),O=!!e.forceVisible||(void 0!==e.isVisible?e.isVisible:E),g=(0,d.useCallback)(e=>{v(e),o&&o(e),e&&window.closeAllFlyouts&&window.closeAllFlyouts()},[v,o]);(0,d.useEffect)(()=>{if(O){if(l)l.focus();else{var e;let t=document.getElementById(i);if(!t)return;let n=new b.yE(t);null===(e=n.getInitial())||void 0===e||e.focus()}}},[O,l,i]);let y=(0,d.useCallback)(e=>{var t;e.stopPropagation(),g(!O),null===(t=e.toElement)||void 0===t||t.focus()},[O,g]);(0,d.useEffect)(()=>{let e=u.current;if(e)return e.addEventListener("click",y),()=>{e.removeEventListener("click",y)}},[u,y]);let w=(0,d.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),r&&r();let{activeElement:t}=document,n=p.current;g(!1),n&&n.contains(t)&&u.current&&(u.current.focus(),u.current.classList.add("focus-visible"))},[r,p,u,g]),D=e=>{"Escape"===e.key&&w(e)},M=(0,d.useCallback)(e=>{e.stopPropagation()},[]),R=(0,d.useCallback)(e=>{e||g(!1)},[g]);(0,h.LJ)(p,R,e.openAsModal),(0,h.lG)({root:p.current,returnElement:u.current,callback:w});let F=(0,f.IJ)(),P=(0,I.cx)(e.buttonClassName,{isOpen:O}),k={id:i,handleID:a,isVisible:!!O,closeMenuHandler:w,renderAbove:e.renderAbove,renderLeft:e.renderLeft},_=e.openAsModal?null:(0,I.cx)("flyouts",F.root),B=null!==(t=e.tag)&&void 0!==t?t:"div",V=!e.disabled&&O;return d.createElement(B,{className:m()(_,e.className,{asModal:e.openAsModal}),ref:p,onClick:M},d.createElement(C.Z,Object.assign({},e.buttonProps,{id:a,className:P,title:e.name,"aria-label":"name"in e?e.name:void 0,"aria-controls":i,"aria-expanded":O,"aria-haspopup":"true",disabled:e.disabled,buttonType:s,buttonRef:u}),e.name&&d.createElement(T.Z,null,e.name),e.buttonContents),d.createElement(d.Fragment,null,e.openAsModal?d.createElement(L.Z,{id:i,label:(0,A.t)("title"),size:null!==(n=e.modalSize)&&void 0!==n?n:N.Z.SMALL,exitHandler:w,elementToFocusOnExit:u.current,isVisible:V,onKeyPress:D},e.children(k)):(V||e.alwaysRender)&&e.children(k)))}var D=n(72588),M=n(77423),R=n(14698),F=n(92593),P=n(38443),k=n(77039),_=n(90432);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(l=i||(i={})).ABOVE_LEFT="aboveLeft",l.ABOVE_RIGHT="aboveRight",l.ABOVE_CENTER="aboveCenter",l.BELOW_LEFT="belowLeft",l.BELOW_RIGHT="belowRight",l.BELOW_CENTER="belowCenter",l.AUTO="auto",l.HIDDEN="hidden",(o=s||(s={})).ABOVE_CENTER="aboveCenter",(r=c||(c={})).LIST="list",r.FRAME="frame";let V=d.createContext({isForcedOpen:!1,setIsForcedOpen(){}});function S(){return(0,d.useContext)(V)}function Z(e){var t,n,l,o,r,s,u,p;let m=(0,D.Fy)(),{title:E,preferredDirection:b}=e,v=null!==(t=e.mobileTitle)&&void 0!==t?t:E,C=(0,f.IJ)(),L=e.flyoutType===c.FRAME?"div":"ul",N=e.openAsModal||m===D.uv.MOBILE||m===D.uv.XS,A=(0,d.useRef)(null),T=(0,d.useRef)(null),S=null!==(n=e.buttonRef)&&void 0!==n?n:A,Z=null!==(l=e.contentRef)&&void 0!==l?l:T,j=(0,y.hu)("flyout"),[x,W]=(0,d.useState)(!1),[z,U]=(0,d.useState)(!1),G=null!==(o=e.isVisible)&&void 0!==o?o:b?z:void 0,J=null!==(r=e.onVisibilityChange)&&void 0!==r?r:b?U:void 0,q=(0,h.xE)(S),$=(0,h.xE)(Z),K=H({props:e,buttonRect:q,contentRect:$,dropDownID:j}),X=K===i.HIDDEN,Y=[i.ABOVE_LEFT,i.BELOW_LEFT].includes(K),Q=[i.ABOVE_CENTER,i.BELOW_CENTER].includes(K),ee=[i.ABOVE_RIGHT,i.ABOVE_LEFT,i.ABOVE_CENTER].includes(K),et=null!==(s=e.handleID)&&void 0!==s?s:j+"-handle",en=null!==(u=e.contentID)&&void 0!==u?u:j+"-contents",el=e.buttonContents||d.createElement(M.JO,{icon:"navigation-ellipsis"});return d.createElement(w,{id:et,className:(0,I.cx)(e.className),buttonType:null!==(p=e.buttonType)&&void 0!==p?p:g.q.ICON,name:e.name,buttonContents:el,buttonClassName:e.buttonClassName,disabled:e.disabled,buttonRef:S,isVisible:G,forceVisible:x,onVisibilityChange:J,openAsModal:N,modalSize:e.modalSize,initialFocusElement:e.initialFocusElement,tag:e.tag,contentID:en},t=>d.createElement(V.Provider,{value:{isForcedOpen:x,setIsForcedOpen:W}},d.createElement(P.Z,{condition:(!G||X)&&!N&&!!b,className:C.positioning},d.createElement(P.Z,{condition:!!e.asReachPopover&&!N,component:k.ZP,componentProps:{targetRef:S,position(e,t){var n,l,o;let r=Q?(0,_.HW)(e,t):(0,k.g0)(e,t),a=ee&&e&&e.height?(null!==(n=parseFloat(r.top))&&void 0!==n?n:0)-e.height:r.top;return l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),l.forEach(function(t){B(e,t,n[t])})}return e}({},r),o=(o={top:a},o),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n.push.apply(n,l)}return n})(Object(o)).forEach(function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))}),l}}},d.createElement(O,Object.assign({},t,{contentRef:Z,id:en,className:(0,I.cx)(e.contentsClassName),renderCenter:Q,renderLeft:Y,renderAbove:ee,openAsModal:N,selfPadded:void 0!==e.selfPadded?e.selfPadded:e.flyoutType===c.FRAME,size:e.flyoutType!==c.FRAME||e.isSmall?a.SMALL:a.MEDIUM,horizontalOffset:e.horizontalOffset}),!N&&E&&d.createElement(R.Z,{title:E,closeFrame:t.closeMenuHandler}),N&&v&&d.createElement(F.t,{onClose:t.closeMenuHandler},null!=v?v:E),N&&e.flyoutType===c.FRAME?e.children:d.createElement(L,{className:(0,I.cx)("dropDownItems",C.items)},e.children))))))}let H=e=>{let{props:t,buttonRect:n,contentRect:l}=e,{renderAbove:o,renderLeft:r,preferredDirection:a,openDirection:c}=t;if(a&&(0===l.height||0===l.width))return i.HIDDEN;if(c&&o||c&&r)throw Error("`renderAbove` & `renderLeft` may not be used with `openDirection` in <DropDown />");if(a&&0!==n.width&&0!==l.width&&a===s.ABOVE_CENTER){let u=n.top,d=n.left,p=window.innerWidth-n.right,m=l.width/2,E=l.height;if(o=u>=E,m<=d&&m<=p)return o?i.ABOVE_CENTER:i.BELOW_CENTER}if(t.openDirection!==i.AUTO&&(t.openDirection||o&&r)){if(t.openDirection)return t.openDirection}else{if(!o){let f=document.body.clientHeight,b=(n.top+n.bottom)/2;o=b>f/2}if(!r){let v=document.body.clientWidth,h=(n.left+n.right)/2;r=h>v/2}}return o&&r?i.ABOVE_LEFT:o&&!r?i.ABOVE_RIGHT:!o&&r?i.BELOW_LEFT:(0,i.BELOW_RIGHT)}},76544(e,t,n){n.d(t,{Z:()=>p});var l=n(67294),o=n(51640),r=n(94184),a=n.n(r),i=n(10914),s=n(81612),c=n(47505),u=n(89472),d=n(52303);function p(e){let t=(0,o.W)(),n=(0,c.u)(),{isLoading:r,status:p,onClick:m,label:E}=e,f=p?l.createElement(l.Fragment,null,l.createElement(s.N$,{"aria-hidden":!0}),l.createElement("span",{className:t.visuallyHidden},(0,d.t)("on"))):l.createElement(l.Fragment,null,l.createElement("span",{className:t.visuallyHidden},(0,d.t)("off"))),b=l.createElement(l.Fragment,null,l.createElement("span",{className:n.itemLabel},E),l.createElement("span",{className:a()(n.checkContainer,"sc-only")},r?l.createElement(i.Z,null):f));return l.createElement(u.Z,{onClick:m,role:"switch","aria-checked":p,disabled:e.isLoading},b)}},14378(e,t,n){n.d(t,{ZP:()=>y,bu:()=>C,yv:()=>L});var l=n(44765),o=n(37510),r=n(30731),a=n(33188),i=n(37230),s=n(81612),c=n(62425),u=n(21965),d=n(57298),p=n(94184),m=n.n(p),E=n(67294),f=n(24821),b=n(88895),v=n(57810),h=n(49154),O=n(80883);let g=[];function y(e){let[t,n]=(0,E.useState)(e.forceHamburgerOpen||!1),l=(0,o.m)(),i=()=>{n(!1)},p=()=>{n(!t)},{showCloseIcon:b=!0}=e,{dynamicComponents:v}=(0,O.hv)(),y=(0,E.useMemo)(()=>v?E.createElement(E.Fragment,null,Object.values(v).map(({component:e},t)=>E.createElement(E.Fragment,{key:t},e))):E.createElement(E.Fragment,null),[v]);return E.createElement(E.Fragment,null,E.createElement(r.Z,{buttonType:a.q.ICON,className:m()(l.root,e.className),onClick:p},E.createElement(E.Fragment,null,E.createElement(s.Uq,null),E.createElement(f.Z,null,(0,d.t)("Menu")))),E.createElement(c.Z,{scrollable:!0,isVisible:t,size:u.Z.MODAL_AS_SIDE_PANEL_LEFT,exitHandler:i},b&&E.createElement(r.Z,{className:l.closeButton,buttonType:a.q.ICON_COMPACT,onClick(){n(!1)}},E.createElement(f.Z,null,(0,d.t)("Close")),E.createElement(s.dp,null)),E.createElement("div",{className:l.container},E.createElement(N,{onClose:()=>n(!1),navigationItems:e.navigationItems}),E.createElement(h.Z,null),e.extraNavTop,y,e.extraNavBottom,g.map((e,t)=>E.createElement(e,{key:t})))))}function C(e,t="root"){var n;let{permission:o,name:r,url:a,id:i,children:s,isHidden:c,badge:u}=e;if(o&&!(0,l.Fs)(o)||c)return null;let d={name:r,url:a,recordID:i,recordType:"customLink",parentID:t,children:null!==(n=null==s?void 0:s.map(e=>C(e,i)).filter(b.Dw))&&void 0!==n?n:[],sort:0};return u&&(d.badge=u),d}function L(e){let t=null;for(let n of e)window.location.href.includes(n&&n.url?n.url.replace("~",""):"")&&(t=`${n.recordID}`);return{recordID:null!=t?t:"notspecified",recordType:"customLink"}}function N(e){let t=e.navigationItems&&e.navigationItems.length?e.navigationItems:(0,i.r)().navigationItems,[n,l]=(0,E.useMemo)(()=>{let e=t.map(e=>C(e)).filter(b.Dw),n=L(e);return[e,n]},[t]);return E.createElement(v.C,{onClose:e.onClose,navItems:n,title:(0,d.t)("Site Navigation"),isNestable:!0,activeRecord:l})}}}]);