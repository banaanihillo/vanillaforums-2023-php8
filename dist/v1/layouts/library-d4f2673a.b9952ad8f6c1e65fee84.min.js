"use strict";(self.webpackChunkvanillalayouts=self.webpackChunkvanillalayouts||[]).push([[6811],{6776(e,t,n){n.r(t),n.d(t,{default:()=>R});var a=n(67294),l=n(57298),s=n(64166),o=n(78290),i=n(86665),r=n(32201),c=n(77225),u=n(14698),m=n(41054),d=n(44765),E=n(54271),f=n(70162),v=n(30731),b=n(17903),y=n(33188),g=n(10914),h=n(24716);function R({onCancel:e,onSuccess:t,discussion:n}){var R,T;let{patchDiscussion:p}=(0,h.yZ)(n.discussionID,"announce"),I=(0,m.TA)({initialValues:{pinLocation:n.pinned?n.pinLocation:""},onSubmit({pinLocation:e}){p({pinLocation:""!==e?e:void 0,pinned:""!==e}),t()}}),O=(0,r.V)(),Z=(0,i.B)(),{isSubmitting:A,handleSubmit:S,handleChange:C}=I;return a.createElement("form",{onSubmit:S},a.createElement(s.Z,{header:a.createElement(u.Z,{closeFrame:e,title:(0,l.t)("Announce")}),body:a.createElement(o.Z,null,a.createElement("div",{className:O.contents},a.createElement(a.Fragment,null,(0,l.t)("Where do you want to announce this discussion?")),a.createElement(E.Z,null,a.createElement(f.Z,{defaultChecked:"category"===I.values.pinLocation,onChange:C,name:"pinLocation",value:"category",label:a.createElement(b.Z,{source:"In <0/>.",c0:a.createElement("b",null,a.createElement(b.Z,{source:"<1/>",c1:null===(R=n.category)||void 0===R?void 0:R.name}))})}),a.createElement(d.ZP,{permission:["discussions.announce","discussions.moderate"]},a.createElement(f.Z,{defaultChecked:"recent"===I.values.pinLocation,onChange:C,name:"pinLocation",value:"recent",label:a.createElement(b.Z,{source:"In <0/> and recent discussions.",c0:a.createElement("b",null,a.createElement(b.Z,{source:"<1/>",c1:null===(T=n.category)||void 0===T?void 0:T.name}))})})),a.createElement(f.Z,{defaultChecked:""===I.values.pinLocation,onChange:C,name:"pinLocation",value:"",label:a.createElement(b.Z,{source:"Don't announce."})})))),footer:a.createElement(c.Z,{justifyRight:!0},a.createElement(v.Z,{buttonType:y.q.TEXT,onClick:e,className:Z.actionButton},(0,l.t)("Cancel")),a.createElement(v.Z,{submit:!0,disabled:A,buttonType:y.q.TEXT_PRIMARY,className:Z.actionButton},A?a.createElement(g.Z,null):(0,l.t)("OK")))}))}},26924(e,t,n){n.r(t),n.d(t,{default:()=>T});var a=n(17903),l=n(64415),s=n(24716),o=n(20746),i=n(30731),r=n(33188),c=n(10914),u=n(81612),m=n(64166),d=n(78290),E=n(77225),f=n(14698),v=n(32201),b=n(46452),y=n(34098),g=n(57298),h=n(67294),R=n(86665);function T(e){let{onCancel:t}=e,n=(0,v.V)(),T=(0,R.B)(),p=(0,o.P)(),{checkedDiscussionIDs:I}=(0,l.f)(),[O,Z]=(0,h.useState)([]),{isSuccess:A,isPending:S,failedDiscussions:C,closeSelectedDiscussions:N}=(0,s.LL)(O,!0),D=(0,h.useMemo)(()=>C?`${(0,g.t)("There was a problem closing:")} ${Object.values(C).map(({name:e})=>`"${e}"`).join(", ")}`:null,[C]);(0,h.useEffect)(()=>{Z(I)},[]);let _=e=>{N()};return h.createElement("form",null,h.createElement(m.Z,{header:h.createElement(f.Z,{closeFrame:t,title:(0,g.t)("Close Discussions")}),body:h.createElement(d.Z,null,h.createElement("div",{className:(0,y.cx)("frameBody-contents",n.contents)},D&&h.createElement(b.Z,{className:p.errorMessageOffset,icon:h.createElement(u.Pz,null),stringContents:D}),A?h.createElement(a.Z,{source:"Selected discussions have been successfully closed to commenting."}):h.createElement(h.Fragment,null,h.createElement(a.Z,{source:"Are you sure you would like to close <0/> discussions to commenting?",c0:O.length})))),footer:h.createElement(E.Z,{justifyRight:!0},h.createElement(i.Z,{buttonType:r.q.TEXT,onClick:t,className:T.actionButton},A?(0,g.t)("Close"):(0,g.t)("Cancel")),!A&&h.createElement(i.Z,{disabled:S,buttonType:r.q.TEXT_PRIMARY,className:T.actionButton,onClick:_},S?h.createElement(c.Z,null):(0,g.t)("Close Discussions")))}))}},6201(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670)]).then(n.bind(n,26924)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},84265(e,t,n){n.r(t),n.d(t,{default:()=>T});var a=n(11590),l=n(17903),s=n(64415),o=n(24716),i=n(30731),r=n(33188),c=n(81612),u=n(64166),m=n(78290),d=n(32201),E=n(77225),f=n(86665),v=n(14698),b=n(10914),y=n(46452),g=n(75994),h=n(57298),R=n(67294);function T(e){var t;let{onCancel:n}=e,T=(0,d.V)(),p=(0,f.B)(),I=(0,a.iv)({marginBottom:(0,g.OF)().spacer.size},";label:BulkDeleteDiscussionsForm-loadable-errorMessageOffset;"),{checkedDiscussionIDs:O}=(0,s.f)(),[Z,A]=(0,R.useState)([]),{isDeletePending:S,deletionFailedIDs:C,deletionSuccessIDs:N,deleteSelectedIDs:D}=(0,o.h0)(Z),_=(0,o.oJ)(null!=C?C:[]),P=(0,R.useMemo)(()=>_?`${(0,h.t)("There was a problem deleting:")} ${Object.values(_).map(({name:e})=>`"${e}"`).join(", ")}`:null,[_]),k=(0,R.useMemo)(()=>null!==(t=N&&N.length>0)&&void 0!==t&&t,[N]);return(0,R.useEffect)(()=>{A(O)},[]),R.createElement("form",null,R.createElement(u.Z,{header:R.createElement(v.Z,{closeFrame:n,title:(0,h.t)("Delete")}),body:R.createElement(m.Z,null,R.createElement("div",{className:(0,a.cx)("frameBody-contents",T.contents)},P&&R.createElement(y.Z,{className:I,icon:R.createElement(c.Pz,null),stringContents:P}),k?R.createElement(l.Z,{source:"Selected discussions have been deleted successfully."}):R.createElement(l.Z,{source:"Are you sure you would like to delete <0/> discussions?",c0:Z.length}))),footer:R.createElement(E.Z,{justifyRight:!0},R.createElement(i.Z,{buttonType:r.q.TEXT,onClick:n,className:p.actionButton},k?(0,h.t)("Close"):(0,h.t)("Cancel")),!k&&R.createElement(i.Z,{disabled:S,buttonType:r.q.TEXT_PRIMARY,className:p.actionButton,onClick:()=>D()},S?R.createElement(b.Z,null):(0,h.t)("Delete")))}))}},16929(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670)]).then(n.bind(n,84265)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},20746(e,t,n){n.d(t,{P:()=>c});var a=n(11590),l=n(75994),s=n(83386),o=n(33091),i=n(28236);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=(0,i.yI)(()=>{var e,t;let n=(0,l.OF)(),i=(0,a.iv)((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}({},s.W.margin({horizontal:-16,top:16}),s.W.padding({horizontal:16,top:20,bottom:4})),t=(t={borderTop:(0,o.$N)({})},t),Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e),";label:BulkDiscussions-classes-separatedSection;"),c=(0,a.iv)({"& span":{fontWeight:n.fonts.weights.normal}},";label:BulkDiscussions-classes-checkboxLabel;"),u=(0,a.iv)({marginBottom:(0,l.OF)().spacer.size},";label:BulkDiscussions-classes-errorMessageOffset;"),m=(0,a.iv)({name:"1qq3rcq-BulkDiscussions-classes-errorLine",styles:"display:flex;align-items:center;label:BulkDiscussions-classes-errorLine;"}),d=(0,a.iv)({name:"m1u7mm-BulkDiscussions-classes-errorLabel",styles:"margin-right:8px;label:BulkDiscussions-classes-errorLabel;"}),E=(0,a.iv)({name:"t51hdt-BulkDiscussions-classes-autocomplete",styles:"width:100%;label:BulkDiscussions-classes-autocomplete;"});return{autocomplete:E,separatedSection:i,checkboxLabel:c,errorMessageOffset:u,errorLine:m,errorLabel:d}})},19700(e,t,n){n.r(t),n.d(t,{default:()=>C});var a=n(47178),l=n(70886),s=n(64415),o=n(24716),i=n(20746),r=n(81612),c=n(46452),u=n(26458),m=n(52303),d=n(67294);function E(e){var t;let n=Object.keys(null!==(t=e.errorsByDiscussionID)&&void 0!==t?t:{}),a=(0,o.oJ)(n),{generalError:l,errorsByDiscussionID:s,messagePrefix:E}=e,f=(0,i.P)(),[v,b,y]=(0,d.useMemo)(()=>{if(a&&Object.keys(a).length>0){let e=E,t=[],n=[];Object.values(a).forEach((e,a)=>{var l;let o=e.name;n.push(o);let i=null!==(l=null==s?void 0:s[e.discussionID])&&void 0!==l?l:{message:(0,m.t)("Something went wrong.")};t.push(d.createElement(d.Fragment,{key:a},d.createElement("span",{className:f.errorLine},d.createElement("span",{className:f.errorLabel},o),d.createElement(u.e,{key:a,label:i.message},d.createElement(u.l,null,d.createElement(r.Yk,null))))))}),e+=`
 ${n.join(", ")}`;let o=d.createElement(d.Fragment,null,t);return[e,E,o]}return l?[l.message,l.message,l.description]:[void 0,void 0,void 0]},[l,a,E,s]);return v?d.createElement(c.Z,{className:f.errorMessageOffset,icon:y?void 0:d.createElement(r.Pz,null),stringContents:v,title:b,contents:y}):d.createElement(d.Fragment,null)}var f=n(30731),v=n(33188),b=n(70259),y=n(70162),g=n(54271),h=n(64166),R=n(78290),T=n(77225),p=n(14698),I=n(10914),O=n(52808),Z=n(22751),A=n(77910);function S(e,t,n,a,l,s,o){try{var i=e[s](o),r=i.value}catch(c){n(c);return}i.done?t(r):Promise.resolve(r).then(a,l)}function C(e){var t;let{checkedDiscussionIDs:n,addPendingDiscussionByIDs:a,removePendingDiscussionByIDs:o}=(0,s.f)(),r=(0,l.G)(),c=(0,d.useMemo)(()=>n,[]),[u,y]=(0,d.useState)(null),[g,O]=(0,d.useState)(!1),[A,C]=(0,d.useState)(null),[D,_]=(0,Z.A)("PATCH","/discussions/merge",{success(e){o(e);let t=e;u&&t.push(u),r.getDiscussionByIDs({discussionIDs:t,expand:"all"},!0)},failed(e,t){o(e),C(t)}}),P="success"===D.status,k="loading"===D.status,L="pending"===D.status&&null!==u,F=(0,i.P)(),B=null!=A||null!=D.error;return(0,d.useEffect)(()=>{!B&&P&&e.onCancel()},[B,P,e.onCancel]),d.createElement("form",null,d.createElement(h.Z,{header:d.createElement(p.Z,{title:(0,m.t)("Merge Discussions"),closeFrame:e.onCancel}),body:d.createElement(R.Z,{hasVerticalPadding:!0},d.createElement(E,{errorsByDiscussionID:A,generalError:D.error,messagePrefix:(0,m.t)("Failed to merge discussions:")}),d.createElement(N,{discussionIDs:c,value:u,onChange:y,maxRadioInputs:10}),d.createElement("div",{className:F.separatedSection},d.createElement(b.Z,{label:(0,m.t)("Leave a redirect link"),checked:g,onChange:e=>O(e.target.checked)}))),footer:d.createElement(T.Z,{justifyRight:!0},d.createElement(f.Z,{buttonType:v.q.TEXT,onClick:e.onCancel},P?(0,m.t)("Close"):(0,m.t)("Cancel")),!P&&d.createElement(f.Z,{disabled:!L,buttonType:v.q.TEXT_PRIMARY,onClick:(t=function*(){a(c),yield _({discussionIDs:c,destinationDiscussionID:u,addRedirects:g}),o(c)},function(){var e=this,n=arguments;return new Promise(function(a,l){var s=t.apply(e,n);function o(e){S(s,a,l,o,i,"next",e)}function i(e){S(s,a,l,o,i,"throw",e)}o(void 0)})})},k?d.createElement(I.Z,null):(0,m.t)("Merge")))}))}function N(e){var t,n,l;let s=(0,o.kc)({discussionID:e.discussionIDs,limit:e.discussionIDs.length});if(s.status===a.Px.ERROR||!(null===(t=s.data)||void 0===t?void 0:t.discussionList))return d.createElement(c.Z,{icon:d.createElement(r.Pz,null),stringContents:null!==(l=null===(n=s.error)||void 0===n?void 0:n.message)&&void 0!==l?l:(0,m.t)("An error has occured.")});let u=(0,i.P)();return e.discussionIDs.length>e.maxRadioInputs?d.createElement(A.cw,null,d.createElement(A.uP,null,(0,m.t)("Choose the main discussion into which all comments will be merged:")),d.createElement(A.en,null,t=>{var n;return d.createElement(A.Qc,Object.assign({},t,{size:"default",inputClassName:u.autocomplete,value:e.value,clear:!0,placeholder:(0,m.t)("Select a discussion"),onChange(t){e.onChange(t)},options:null===(n=s.data)||void 0===n?void 0:n.discussionList.map(e=>({label:e.name,value:e.discussionID}))}))})):d.createElement(g.Z,{label:(0,m.t)("Choose the main discussion into which all comments will be merged:")},s.status===a.Px.PENDING||s.status===a.Px.LOADING?d.createElement(g.Z,null,e.discussionIDs.map((e,t)=>d.createElement(y.Z,{disabled:!0,checked:!1,key:t,label:d.createElement(O.ZM,{width:(0,O.lx)(t),height:16})}))):s.data.discussionList.map((t,n)=>d.createElement(y.Z,{key:n,checked:t.discussionID===e.value,onChecked(){e.onChange(t.discussionID)},label:t.name})))}},61175(e,t,n){n.d(t,{x:()=>i});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670)]).then(n.bind(n,19700)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})})},69368(e,t,n){n.r(t),n.d(t,{default:()=>O});var a=n(17903),l=n(64415),s=n(24716),o=n(20746),i=n(30731),r=n(33188),c=n(70259),u=n(81612),m=n(64166),d=n(78290),E=n(32201),f=n(77225),v=n(86665),b=n(14698),y=n(10914),g=n(46452),h=n(34098),R=n(57298),T=n(78816),p=n(83643),I=n(67294);function O(e){var t;let{onCancel:n}=e,O=(0,E.V)(),Z=(0,v.B)(),A=(0,o.P)(),{checkedDiscussionIDs:S}=(0,l.f)(),[C,N]=(0,I.useState)([]),[D,_]=(0,I.useState)(),[P,k]=(0,I.useState)(!1),L=null==D?void 0:null===(t=D[0])||void 0===t?void 0:t.value,{isSuccess:F,isPending:B,failedDiscussions:M,moveSelectedDiscussions:w}=(0,s.EZ)(C,L,P),j=(0,I.useMemo)(()=>M?`${(0,R.t)("There was a problem moving:")} ${Object.values(M).map(({name:e})=>`"${e}"`).join(", ")}`:null,[M]);(0,I.useEffect)(()=>{N(S)},[]),(0,I.useEffect)(()=>{D&&D.length||k(!1)},[D]);let x=()=>{w()};return I.createElement("form",null,I.createElement(m.Z,{header:I.createElement(b.Z,{closeFrame:n,title:(0,R.t)("Move")}),body:I.createElement(d.Z,null,I.createElement("div",{className:(0,h.cx)("frameBody-contents",O.contents)},j&&I.createElement(g.Z,{className:A.errorMessageOffset,icon:I.createElement(u.Pz,null),stringContents:j}),F?I.createElement(a.Z,{source:"Selected discussions have been moved successfully."}):I.createElement(I.Fragment,null,I.createElement(a.Z,{source:"Are you sure you would like to move <0/> discussions?",c0:C.length}),I.createElement(p.ZP,{displayAs:T.mf.DISCUSSIONS,placeholder:(0,R.t)("Select a category"),label:"",onChange(e){_(()=>e[0]?e:null)},value:null!=D?D:[],maxHeight:80}),I.createElement("div",{className:A.separatedSection},I.createElement(c.Z,{className:A.checkboxLabel,label:(0,R.t)("Leave a redirect link"),disabled:!D||!D.length,checked:P,onChange:e=>k(e.target.checked)}))))),footer:I.createElement(f.Z,{justifyRight:!0},I.createElement(i.Z,{buttonType:r.q.TEXT,onClick:n,className:Z.actionButton},F?(0,R.t)("Close"):(0,R.t)("Cancel")),!F&&I.createElement(i.Z,{disabled:B||!D||!D.length,buttonType:r.q.TEXT_PRIMARY,className:Z.actionButton,onClick:()=>x()},B?I.createElement(y.Z,null):(0,R.t)("Move")))}))}},36503(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670),n.e(3410)]).then(n.bind(n,69368)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},54634(e,t,n){n.r(t),n.d(t,{NON_CHANGE_TYPE:()=>h,default:()=>R});var a=n(67294),l=n(57298),s=n(64166),o=n(78290),i=n(86665),r=n(32201),c=n(77225),u=n(14698),m=n(41054),d=n(54271),E=n(70162),f=n(30731),v=n(33188),b=n(10914),y=n(24716),g=n(88895);let h=["poll","event"];function R({onCancel:e,onSuccess:t,discussion:n}){var R,T;let{putDiscussionType:p}=(0,y.kn)(n.discussionID),I=(0,m.TA)({initialValues:{type:n.type},onSubmit({type:e}){p({type:e}),t()}}),O=(0,r.V)(),Z=(0,i.B)(),A=null!==(T=null==n?void 0:null===(R=n.category)||void 0===R?void 0:R.allowedDiscussionTypes)&&void 0!==T?T:void 0,{isSubmitting:S,handleSubmit:C,handleChange:N}=I,D=[];return A&&(D=A.map(e=>{if(e.length>1&&!h.includes(e))return a.createElement(E.Z,{key:e,defaultChecked:I.values.type===e,onChange:N,name:"type",value:`${e}`,label:(0,l.t)(`${(0,g.e_)(e)}`)})})),a.createElement("form",{onSubmit:C},a.createElement(s.Z,{header:a.createElement(u.Z,{closeFrame:e,title:(0,l.t)("Change Discussion Type")}),body:a.createElement(o.Z,null,a.createElement("div",{className:O.contents},a.createElement(a.Fragment,null,(0,l.t)("Select Discussion Type:")),a.createElement(d.Z,null,D))),footer:a.createElement(c.Z,{justifyRight:!0},a.createElement(f.Z,{buttonType:v.q.TEXT,onClick:e,className:Z.actionButton},(0,l.t)("Cancel")),a.createElement(f.Z,{submit:!0,disabled:S,buttonType:v.q.TEXT_PRIMARY,className:Z.actionButton},S?a.createElement(b.Z,null):(0,l.t)("OK")))}))}},72304(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670)]).then(n.bind(n,6776)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},11143(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.resolve().then(n.bind(n,54634)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},57164(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670),n.e(5122)]).then(n.bind(n,60574)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},60574(e,t,n){n.r(t),n.d(t,{default:()=>R});var a=n(67294),l=n(57298),s=n(41054),o=n(64166),i=n(32201),r=n(86665),c=n(14698),u=n(77225),m=n(30731),d=n(33188),E=n(78290),f=n(83643),v=n(10914),b=n(24778),y=n(78816),g=n(24716);function h(e,t,n,a,l,s,o){try{var i=e[s](o),r=i.value}catch(c){n(c);return}i.done?t(r):Promise.resolve(r).then(a,l)}function R({onCancel:e,discussion:t,onSuccess:n}){var R,T,p;let{patchDiscussion:I}=(0,g.yZ)(t.discussionID,"move"),O=(0,s.TA)({initialValues:{category:t.category?{label:t.category.name,value:t.category.categoryID}:void 0},onSubmit:(p=(T=function*({category:e},t){let a=e.value;yield I({categoryID:a}),n(),t.resetForm()},function(){var e=this,t=arguments;return new Promise(function(n,a){var l=T.apply(e,t);function s(e){h(l,n,a,s,o,"next",e)}function o(e){h(l,n,a,s,o,"throw",e)}s(void 0)})}),function(e,t){return p.apply(this,arguments)})}),Z=(0,i.V)(),A=(0,r.B)(),S=(0,b.E)(),{values:C,setFieldValue:N,handleSubmit:D,dirty:_,isSubmitting:P}=O;return a.createElement("form",{onSubmit:D},a.createElement(o.Z,{header:a.createElement(c.Z,{closeFrame:e,title:(0,l.t)("Move Discussion")}),body:a.createElement(E.Z,null,a.createElement("div",{className:Z.contents},a.createElement("div",{className:S.options.move},a.createElement(f.ZP,{displayAs:y.mf.DISCUSSIONS,placeholder:(0,l.t)("Select..."),label:(0,l.t)("Category"),onChange(e){let t=e[0];N("category",t)},value:C.category?[C.category]:[],maxHeight:130})))),footer:a.createElement(u.Z,{justifyRight:!0},a.createElement(m.Z,{buttonType:d.q.TEXT,onClick:e,className:A.actionButton},(0,l.t)("Cancel")),a.createElement(m.Z,{submit:!0,disabled:(null===(R=C.category)||void 0===R?void 0:R.value)===void 0||!_||P,buttonType:d.q.TEXT_PRIMARY,className:A.actionButton},P?a.createElement(v.Z,null):(0,l.t)("Submit")))}))}},97344(e,t,n){n.r(t),n.d(t,{default:()=>I});var a=n(67294),l=n(30731),s=n(64166),o=n(14698),i=n(78290),r=n(32201),c=n(77225),u=n(86665),m=n(11590),d=n(10914),E=n(33188),f=n(57298),v=n(28754),b=n(24716),y=n(75994),g=n(28236),h=n(23410);let R=(0,g.yI)(()=>{let e=(0,y.OF)(),t=(0,m.iv)(`
        overflow-y: visible!important
    `,";label:TagDiscussionForm-loadable-styles-modalSuggestionOverride;"),n=(0,m.iv)({fontSize:e.fonts.size.small,color:h.w.colorOut(e.messageColors.error.fg),marginTop:e.fonts.size.extraSmall},";label:TagDiscussionForm-loadable-styles-error;");return{error:n,modalSuggestionOverride:t}});var T=n(41054);function p(e,t,n,a,l,s,o){try{var i=e[s](o),r=i.value}catch(c){n(c);return}i.done?t(r):Promise.resolve(r).then(a,l)}function I(e){var t,n,y,g;let{onCancel:h,onSuccess:I,discussion:O}=e,Z=(0,r.V)(),A=(0,u.B)(),S=R(),C=(0,b.bv)(O.discussionID),{handleSubmit:N,setFieldValue:D,values:_,isSubmitting:P,errors:k}=(0,T.TA)({initialValues:{tagIDs:null!==(n=null===(t=O.tags)||void 0===t?void 0:t.map(({tagID:e,urlcode:t,name:n})=>({value:e,label:n,data:t})))&&void 0!==n?n:[]},onSubmit:(g=(y=function*({tagIDs:e},{setErrors:t}){if(e)try{yield C(e.map(({value:e})=>e)),I()}catch(n){t({tagIDs:n.message})}},function(){var e=this,t=arguments;return new Promise(function(n,a){var l=y.apply(e,t);function s(e){p(l,n,a,s,o,"next",e)}function o(e){p(l,n,a,s,o,"throw",e)}s(void 0)})}),function(e,t){return g.apply(this,arguments)})});return a.createElement("form",{onSubmit:N},a.createElement(s.Z,{header:a.createElement(o.Z,{closeFrame:h,title:(0,f.t)("Tag")}),bodyWrapClass:S.modalSuggestionOverride,body:a.createElement(i.Z,null,a.createElement("div",{className:(0,m.cx)("frameBody-contents",Z.contents)},a.createElement(v.B,{id:"tagIDs",type:"User",label:null,value:_.tagIDs,onChange(e){D("tagIDs",e)}}),k.tagIDs&&a.createElement("div",{className:S.error},k.tagIDs))),footer:a.createElement(c.Z,{justifyRight:!0},a.createElement(l.Z,{buttonType:E.q.TEXT,onClick:h,className:A.actionButton},(0,f.t)("Cancel")),a.createElement(l.Z,{disabled:P,buttonType:E.q.TEXT_PRIMARY,className:A.actionButton,submit:!0},P?a.createElement(d.Z,null):(0,f.t)("Save")))}))}},4758(e,t,n){n.d(t,{Z:()=>r});var a=n(67294),l=n(86830),s=n(37703),o=n(39607);let i=(0,o.rq)({loadFunction:()=>Promise.all([n.e(8780),n.e(3034),n.e(2102),n.e(5163),n.e(2516),n.e(4789),n.e(1479),n.e(5852),n.e(6721),n.e(6811),n.e(176),n.e(7103),n.e(3981),n.e(858),n.e(6936),n.e(1643),n.e(1991),n.e(9044),n.e(9938),n.e(9651),n.e(8661),n.e(378),n.e(4403),n.e(3269),n.e(2487),n.e(7928),n.e(8317),n.e(8614),n.e(1385),n.e(5096),n.e(7052),n.e(5670)]).then(n.bind(n,97344)),fallback:()=>a.createElement(s.Z,{size:100,loaderStyleClass:(0,l.D)().mediumLoader})}),r=i},33198(e,t,n){n.d(t,{Z:()=>l});var a=n(75741);let l=class e extends a.ZP{constructor(...t){super(...t),this.getNotification=t=>this.dispatchApi("get",`/notifications/${t}`,e.getNotificationACs,{}),this.getNotifications=()=>this.dispatchApi("get","/notifications",e.getNotificationsACs,{}),this.markRead=t=>this.dispatchApi("patch",`/notifications/${t}`,e.markReadACs,{read:!0}),this.markAllRead=()=>this.dispatchApi("patch","/notifications",e.markAllReadACs,{read:!0})}};l.GET_NOTIFICATION_REQUEST="@@notifications/GET_NOTIFICATION_REQUEST",l.GET_NOTIFICATION_RESPONSE="@@notifications/GET_NOTIFICATION_RESPONSE",l.GET_NOTIFICATION_ERROR="@@notifications/GET_NOTIFICATION_ERROR",l.getNotificationACs=a.ZP.generateApiActionCreators(l.GET_NOTIFICATION_REQUEST,l.GET_NOTIFICATION_RESPONSE,l.GET_NOTIFICATION_ERROR,{},{}),l.GET_NOTIFICATIONS_REQUEST="@@notifications/GET_NOTIFICATIONS_REQUEST",l.GET_NOTIFICATIONS_RESPONSE="@@notifications/GET_NOTIFICATIONS_RESPONSE",l.GET_NOTIFICATIONS_ERROR="@@notifications/GET_NOTIFICATIONS_ERROR",l.getNotificationsACs=a.ZP.generateApiActionCreators(l.GET_NOTIFICATIONS_REQUEST,l.GET_NOTIFICATIONS_RESPONSE,l.GET_NOTIFICATIONS_ERROR,{},{}),l.MARK_READ_REQUEST="@@notifications/MARK_READ_REQUEST",l.MARK_READ_RESPONSE="@@notifications/MARK_READ_RESPONSE",l.MARK_READ_ERROR="@@notifications/MARK_READ_ERROR",l.markReadACs=a.ZP.generateApiActionCreators(l.MARK_READ_REQUEST,l.MARK_READ_RESPONSE,l.MARK_READ_ERROR,{},{}),l.MARK_ALL_READ_REQUEST="@@notifications/MARK_ALL_READ_REQUEST",l.MARK_ALL_READ_RESPONSE="@@notifications/MARK_ALL_READ_RESPONSE",l.MARK_ALL_READ_ERROR="@@notifications/MARK_ALL_READ_ERROR",l.markAllReadACs=a.ZP.generateApiActionCreators(l.MARK_ALL_READ_REQUEST,l.MARK_ALL_READ_RESPONSE,l.MARK_ALL_READ_ERROR,{},{})},37187(e,t,n){n.d(t,{Z:()=>o});var a=n(33198),l=n(87219),s=n(47178);let o=class{constructor(){this.initialState={notificationsByID:{data:{},status:s.Px.PENDING}},this.reducer=(e=this.initialState,t)=>(0,l.ZP)(e,e=>{switch(t.type){case a.Z.GET_NOTIFICATIONS_REQUEST:e.notificationsByID.status=s.Px.LOADING;break;case a.Z.GET_NOTIFICATIONS_RESPONSE:{e.notificationsByID.status=s.Px.SUCCESS,e.notificationsByID.data={};let n=t.payload.data;n.forEach(t=>{e.notificationsByID.data[t.notificationID]=t});break}case a.Z.GET_NOTIFICATIONS_ERROR:e.notificationsByID.status=s.Px.ERROR,e.notificationsByID.error=t.payload;break;case a.Z.MARK_ALL_READ_RESPONSE:{let{data:l}=e.notificationsByID;if(l)for(let o of Object.keys(l))l[o].read=!0}}})}}}}]);