"use strict";(self.webpackChunkvanillaadmin=self.webpackChunkvanillaadmin||[]).push([[854],{89718(t,e,a){a.d(e,{DE:()=>f,GX:()=>I,Ul:()=>m,t$:()=>D,um:()=>g,y6:()=>p});var r,n,i,u,o,s,h=a(224),l=a(88719),c=a(23675);function d(t,e,a,r,n,i,u){try{var o=t[i](u),s=o.value}catch(h){a(h);return}o.done?e(s):Promise.resolve(s).then(r,n)}function y(t){return function(){var e=this,a=arguments;return new Promise(function(r,n){var i=t.apply(e,a);function u(t){d(i,r,n,u,o,"next",t)}function o(t){d(i,r,n,u,o,"throw",t)}u(void 0)})}}let p=(0,c.hg)("@@authenticators/getAll",(r=y(function*({page:t,limit:e=10,type:a="oauth2"}){let r=yield h.ZP.get(`/authenticators?page=${t}&limit=${e}&type=${a}`,{}),n=l.Z.parseLinkHeader(r.headers.link,"page"),i={items:r.data,pagination:n};return i}),function(t){return r.apply(this,arguments)})),f=(0,c.hg)("@@authenticators/get",(n=y(function*(t){let{data:e}=yield h.ZP.get(`/authenticators/${t}/oauth2`);return e}),function(t){return n.apply(this,arguments)})),I=(0,c.hg)("@@authenticators/post",(i=y(function*(t,{rejectWithValue:e}){try{let{data:a}=yield h.ZP.post("/authenticators/oauth2",t);return a}catch(r){return e(r.response.data)}}),function(t,e){return i.apply(this,arguments)})),D=(0,c.hg)("@@authenticators/patch",(u=y(function*(t,{rejectWithValue:e}){let{authenticatorID:a}=t,r=function(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},i=Object.keys(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}(t,["authenticatorID"]);try{let n=yield h.ZP.patch(`/authenticators/${a}`,r);if("oauth2"===n.data.type){let i=yield h.ZP.patch(`/authenticators/${a}/oauth2`,r);return i.data}}catch(u){return e(u.response.data)}}),function(t,e){return u.apply(this,arguments)})),g=(0,c.hg)("@@authenticators/patch",(o=y(function*(t){let{data:e}=yield h.ZP.patch(`/authenticators/${t.authenticatorID}`,t);return e}),function(t){return o.apply(this,arguments)})),m=(0,c.hg)("@@authenticators/delete",(s=y(function*(t,{rejectWithValue:e}){try{let{data:a}=yield h.ZP.delete(`/authenticators/${t}`);return a}catch(r){return e(r.response.data)}}),function(t,e){return s.apply(this,arguments)}))},80720(t,e,a){a.d(e,{Fu:()=>l,_I:()=>s,pv:()=>h});var r=a(47178),n=a(98769),i=a(23675),u=a(46458),o=a(89718);let s=(0,i.oM)({name:"authenticators",initialState:{authenticatorsByID:{},authenticatorIDsByHash:{},deleteState:{}},reducers:{},extraReducers(t){t.addCase(o.y6.pending,(t,e)=>{let a=(0,n.Q6)(e.meta.arg);t.authenticatorIDsByHash[a]={status:r.Px.LOADING}}).addCase(o.y6.fulfilled,(t,e)=>{let a=(0,n.Q6)(e.meta.arg),{items:i,pagination:u}=e.payload;t.authenticatorIDsByHash[a]={status:r.Px.SUCCESS,data:{items:i.map(t=>t.authenticatorID),pagination:u}},i.forEach(e=>{t.authenticatorsByID[e.authenticatorID]=e})}).addCase(o.y6.rejected,(t,e)=>{let a=(0,n.Q6)(e.meta.arg);t.authenticatorIDsByHash[a]={status:r.Px.ERROR,error:e.error}}).addCase(o.DE.fulfilled,(t,e)=>{let a=e.payload;t.authenticatorsByID[a.authenticatorID]=a}).addCase(o.GX.fulfilled,(t,e)=>{let a=e.payload;t.authenticatorsByID[a.authenticatorID]=a,t.authenticatorsByID={},t.authenticatorIDsByHash={}}).addCase(o.t$.fulfilled,(t,e)=>{let a=e.payload;if(a.authenticatorID){var r;let n=null===(r=t.authenticatorsByID[a.authenticatorID])||void 0===r?void 0:r.default,i=a.default;!n&&i&&Object.values(t.authenticatorsByID).forEach(t=>{t.default=!1}),t.authenticatorsByID[a.authenticatorID]=a}}).addCase(o.Ul.pending,(t,e)=>{t.deleteState={authenticatorID:e.meta.arg,status:r.Px.LOADING,error:void 0}}).addCase(o.Ul.rejected,(t,e)=>{t.deleteState={authenticatorID:e.meta.arg,status:r.Px.ERROR,error:e.payload}}).addCase(o.Ul.fulfilled,(t,e)=>{let a=e.meta.arg;t.deleteState={authenticatorID:a,status:r.Px.SUCCESS,error:void 0},delete t.authenticatorsByID[e.meta.arg],Object.keys(t.authenticatorIDsByHash).forEach(a=>{void 0!==t.authenticatorIDsByHash[a].data&&(t.authenticatorIDsByHash[a].data.items=t.authenticatorIDsByHash[a].data.items.filter(t=>t!==e.meta.arg))})})}});(0,i.xC)(s).dispatch;let h=()=>(0,u.I0)(),l=u.v9},90373(t,e,a){a.r(e);var r=a(67294),n=a(46302),i=a(52454);let u=new i.Z(()=>Promise.all([a.e(216),a.e(780),a.e(331),a.e(34),a.e(687),a.e(516),a.e(789),a.e(858),a.e(936),a.e(643),a.e(390),a.e(44),a.e(938),a.e(378),a.e(900),a.e(269),a.e(487),a.e(16),a.e(61),a.e(317),a.e(280),a.e(556),a.e(307),a.e(623),a.e(771),a.e(46),a.e(462)]).then(a.bind(a,90011)),"/oauth2-settings",()=>"/oauth2-settings"),o=new i.Z(()=>Promise.all([a.e(216),a.e(780),a.e(331),a.e(34),a.e(687),a.e(516),a.e(789),a.e(858),a.e(936),a.e(643),a.e(390),a.e(44),a.e(938),a.e(378),a.e(900),a.e(269),a.e(487),a.e(16),a.e(61),a.e(317),a.e(280),a.e(556),a.e(307),a.e(623),a.e(771),a.e(46),a.e(457)]).then(a.bind(a,2457)),["/oauth2-settings/add","/oauth2-settings/:authenticatorID/edit"],t=>null!=t.authenticatorID?`/oauth2-settings/${t.authenticatorID}/edit`:"/oauth2-settings/add"),s=[u.route,o.route];var h=a(45607),l=a(80720),c=a(68293);n.F.addRoutes(s),(0,c.xw)(l._I.name,l._I.reducer),(0,h.Tk)("oauth2App",()=>r.createElement(n.F,{sectionRoots:["/oauth2-settings"]}))}}]);